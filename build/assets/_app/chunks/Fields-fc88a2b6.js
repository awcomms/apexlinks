import{S as n,i as e,s as t,aq as i,ar as l,k as a,j as o,n as r,m as s,f as $,o as f,r as c,u,w as d,x as p,d as m,v as g,A as v,E as h,F as x,G as w,as as b,at as y,ah as T,au as k,av as q,l as I,ac as _,aw as D,ax as N,L as z,ay as O,p as E,q as j,H as A,B,J as C,az as F,O as L,aa as G,e as H,c as J,a as P,ap as R,t as S,g as U,h as V}from"./vendor-c7b4d8a9.js";import{I as K}from"./Input-8c5d8c16.js";function M(n){let e,t,i,l,a;function r(e){n[6](e)}function $(e){n[7](e)}function c(e){n[8](e)}let d={labelText:n[0].label,invalidText:n[0].invalidText};return void 0!==n[1]&&(d.ref=n[1]),void 0!==n[0].value&&(d.value=n[0].value),void 0!==n[0].invalid&&(d.invalid=n[0].invalid),e=new K({props:d}),h.push((()=>x(e,"ref",r))),h.push((()=>x(e,"value",$))),h.push((()=>x(e,"invalid",c))),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,t){f(e,n,t),a=!0},p(n,a){const o={};1&a&&(o.labelText=n[0].label),1&a&&(o.invalidText=n[0].invalidText),!t&&2&a&&(t=!0,o.ref=n[1],w((()=>t=!1))),!i&&1&a&&(i=!0,o.value=n[0].value,w((()=>i=!1))),!l&&1&a&&(l=!0,o.invalid=n[0].invalid,w((()=>l=!1))),e.$set(o)},i(n){a||(p(e.$$.fragment,n),a=!0)},o(n){u(e.$$.fragment,n),a=!1},d(n){g(e,n)}}}function Q(n){let e,t,i;function l(e){n[5](e)}let a={labelText:n[0].label};return void 0!==n[0].number&&(a.value=n[0].number),e=new b({props:a}),h.push((()=>x(e,"value",l))),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,t){f(e,n,t),i=!0},p(n,i){const l={};1&i&&(l.labelText=n[0].label),!t&&1&i&&(t=!0,l.value=n[0].number,w((()=>t=!1))),e.$set(l)},i(n){i||(p(e.$$.fragment,n),i=!0)},o(n){u(e.$$.fragment,n),i=!1},d(n){g(e,n)}}}function W(n){let e,t,i,l,a;function r(e){n[2](e)}function $(e){n[3](e)}function c(e){n[4](e)}let d={labelText:n[0].label,invalidText:n[0].invalidText};return void 0!==n[1]&&(d.ref=n[1]),void 0!==n[0].value&&(d.value=n[0].value),void 0!==n[0].invalid&&(d.invalid=n[0].invalid),e=new K({props:d}),h.push((()=>x(e,"ref",r))),h.push((()=>x(e,"value",$))),h.push((()=>x(e,"invalid",c))),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,t){f(e,n,t),a=!0},p(n,a){const o={};1&a&&(o.labelText=n[0].label),1&a&&(o.invalidText=n[0].invalidText),!t&&2&a&&(t=!0,o.ref=n[1],w((()=>t=!1))),!i&&1&a&&(i=!0,o.value=n[0].value,w((()=>i=!1))),!l&&1&a&&(l=!0,o.invalid=n[0].invalid,w((()=>l=!1))),e.$set(o)},i(n){a||(p(e.$$.fragment,n),a=!0)},o(n){u(e.$$.fragment,n),a=!1},d(n){g(e,n)}}}function X(n){let e,t,v,h,x;const w=[W,Q,M],b=[];function y(n,e){return"text"===n[0].type?0:"number"===n[0].type?1:2}return e=y(n),t=b[e]=w[e](n),h=new i({props:{iconDescription:"Edit",hasIconOnly:!0,kind:"ghost",size:"field",icon:l}}),h.$on("click",n[9]),{c(){t.c(),v=a(),o(h.$$.fragment)},l(n){t.l(n),v=r(n),s(h.$$.fragment,n)},m(n,t){b[e].m(n,t),$(n,v,t),f(h,n,t),x=!0},p(n,[i]){let l=e;e=y(n),e===l?b[e].p(n,i):(c(),u(b[l],1,1,(()=>{b[l]=null})),d(),t=b[e],t?t.p(n,i):(t=b[e]=w[e](n),t.c()),p(t,1),t.m(v.parentNode,v))},i(n){x||(p(t),p(h.$$.fragment,n),x=!0)},o(n){u(t),u(h.$$.fragment,n),x=!1},d(n){b[e].d(n),n&&m(v),g(h,n)}}}function Y(n,e,t){let i,{field:l={}}=e;v((()=>{i&&i.focus(),t(0,l.focused=!0,l)}));return n.$$set=n=>{"field"in n&&t(0,l=n.field)},[l,i,function(n){i=n,t(1,i)},function(e){n.$$.not_equal(l.value,e)&&(l.value=e,t(0,l))},function(e){n.$$.not_equal(l.invalid,e)&&(l.invalid=e,t(0,l))},function(e){n.$$.not_equal(l.number,e)&&(l.number=e,t(0,l))},function(n){i=n,t(1,i)},function(e){n.$$.not_equal(l.value,e)&&(l.value=e,t(0,l))},function(e){n.$$.not_equal(l.invalid,e)&&(l.invalid=e,t(0,l))},()=>{t(0,l.dirty=l,l),t(0,l.edit=!0,l)}]}class Z extends n{constructor(n){super(),e(this,n,Y,X,t,{field:0})}}function nn(n,e,t){const i=n.slice();return i[9]=e[t],i}function en(n){let e,t;return e=new D({props:{value:n[9].value,text:n[9].text}}),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,i){f(e,n,i),t=!0},p:T,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){u(e.$$.fragment,n),t=!1},d(n){g(e,n)}}}function tn(n){let e,t,i=n[2],l=[];for(let o=0;o<i.length;o+=1)l[o]=en(nn(n,i,o));const a=n=>u(l[n],1,1,(()=>{l[n]=null}));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=I()},l(n){for(let e=0;e<l.length;e+=1)l[e].l(n);e=I()},m(n,i){for(let e=0;e<l.length;e+=1)l[e].m(n,i);$(n,e,i),t=!0},p(n,t){if(4&t){let o;for(i=n[2],o=0;o<i.length;o+=1){const a=nn(n,i,o);l[o]?(l[o].p(a,t),p(l[o],1)):(l[o]=en(a),l[o].c(),p(l[o],1),l[o].m(e.parentNode,e))}for(c(),o=i.length;o<l.length;o+=1)a(o);d()}},i(n){if(!t){for(let n=0;n<i.length;n+=1)p(l[n]);t=!0}},o(n){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)u(l[e]);t=!1},d(n){_(l,n),n&&m(e)}}}function ln(n){let e,t;return e=new i({props:{iconDescription:"Cancel",hasIconOnly:!0,kind:"ghost",size:"field",icon:q}}),e.$on("click",n[7]),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,i){f(e,n,i),t=!0},p:T,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){u(e.$$.fragment,n),t=!1},d(n){g(e,n)}}}function an(n){let e,t,l,v,b,T,q,I,_,D,N;function z(e){n[3](e)}function O(e){n[4](e)}function E(e){n[5](e)}let j={labelText:"Label",invalidText:n[0].invalidText};function A(e){n[6](e)}void 0!==n[1]&&(j.ref=n[1]),void 0!==n[0].label&&(j.value=n[0].label),void 0!==n[0].invalid&&(j.invalid=n[0].invalid),e=new K({props:j}),h.push((()=>x(e,"ref",z))),h.push((()=>x(e,"value",O))),h.push((()=>x(e,"invalid",E)));let B={$$slots:{default:[tn]},$$scope:{ctx:n}};void 0!==n[0].type&&(B.selected=n[0].type),T=new y({props:B}),h.push((()=>x(T,"selected",A)));let C=!n[0].new&&ln(n);return D=new i({props:{iconDescription:"Accept",hasIconOnly:!0,kind:"ghost",size:"field",icon:k}}),D.$on("click",n[8]),{c(){o(e.$$.fragment),b=a(),o(T.$$.fragment),I=a(),C&&C.c(),_=a(),o(D.$$.fragment)},l(n){s(e.$$.fragment,n),b=r(n),s(T.$$.fragment,n),I=r(n),C&&C.l(n),_=r(n),s(D.$$.fragment,n)},m(n,t){f(e,n,t),$(n,b,t),f(T,n,t),$(n,I,t),C&&C.m(n,t),$(n,_,t),f(D,n,t),N=!0},p(n,[i]){const a={};1&i&&(a.invalidText=n[0].invalidText),!t&&2&i&&(t=!0,a.ref=n[1],w((()=>t=!1))),!l&&1&i&&(l=!0,a.value=n[0].label,w((()=>l=!1))),!v&&1&i&&(v=!0,a.invalid=n[0].invalid,w((()=>v=!1))),e.$set(a);const o={};4096&i&&(o.$$scope={dirty:i,ctx:n}),!q&&1&i&&(q=!0,o.selected=n[0].type,w((()=>q=!1))),T.$set(o),n[0].new?C&&(c(),u(C,1,1,(()=>{C=null})),d()):C?(C.p(n,i),1&i&&p(C,1)):(C=ln(n),C.c(),p(C,1),C.m(_.parentNode,_))},i(n){N||(p(e.$$.fragment,n),p(T.$$.fragment,n),p(C),p(D.$$.fragment,n),N=!0)},o(n){u(e.$$.fragment,n),u(T.$$.fragment,n),u(C),u(D.$$.fragment,n),N=!1},d(n){g(e,n),n&&m(b),g(T,n),n&&m(I),C&&C.d(n),n&&m(_),g(D,n)}}}function on(n,e,t){let{field:i={}}=e;v((()=>{l&&l.focus(),t(0,i.focused=!0,i)}));let l;return n.$$set=n=>{"field"in n&&t(0,i=n.field)},[i,l,[{value:"text",text:"Text"},{value:"number",text:"Number"},{value:"range",text:"Range"}],function(n){l=n,t(1,l)},function(e){n.$$.not_equal(i.label,e)&&(i.label=e,t(0,i))},function(e){n.$$.not_equal(i.invalid,e)&&(i.invalid=e,t(0,i))},function(e){n.$$.not_equal(i.type,e)&&(i.type=e,t(0,i))},()=>{t(0,i.edit=!1,i),t(0,i=i.dirty)},()=>{i.new&&t(0,i.new=!1,i),t(0,i.edit=!1,i)}]}class rn extends n{constructor(n){super(),e(this,n,on,an,t,{field:0})}}function sn(n){let e,t;return e=new i({props:{iconDescription:"Pin field",hasIconOnly:!0,kind:"ghost",size:"field",icon:N}}),e.$on("click",n[0]),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,i){f(e,n,i),t=!0},p:T,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){u(e.$$.fragment,n),t=!1},d(n){g(e,n)}}}function $n(n){return[function(e){z.call(this,n,e)}]}class fn extends n{constructor(n){super(),e(this,n,$n,sn,t,{})}}function cn(n){let e,t;return e=new i({props:{iconDescription:"Unpin field",hasIconOnly:!0,kind:"ghost",size:"field",icon:O}}),e.$on("click",n[0]),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,i){f(e,n,i),t=!0},p:T,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){u(e.$$.fragment,n),t=!1},d(n){g(e,n)}}}function un(n){return[function(e){z.call(this,n,e)}]}class dn extends n{constructor(n){super(),e(this,n,un,cn,t,{})}}function pn(n){let e,t,i;const l=[n[1]];var a=n[0];function r(n){let e={};for(let t=0;t<l.length;t+=1)e=B(e,l[t]);return{props:e}}return a&&(e=new a(r()),e.$on("click",n[3])),{c(){e&&o(e.$$.fragment),t=I()},l(n){e&&s(e.$$.fragment,n),t=I()},m(n,l){e&&f(e,n,l),$(n,t,l),i=!0},p(n,[i]){const s=2&i?E(l,[j(n[1])]):{};if(a!==(a=n[0])){if(e){c();const n=e;u(n.$$.fragment,1,0,(()=>{g(n,1)})),d()}a?(e=new a(r()),e.$on("click",n[3]),o(e.$$.fragment),p(e.$$.fragment,1),f(e,t.parentNode,t)):e=null}else a&&e.$set(s)},i(n){i||(e&&p(e.$$.fragment,n),i=!0)},o(n){e&&u(e.$$.fragment,n),i=!1},d(n){n&&m(t),e&&g(e,n)}}}function mn(n,e,t){const i=["pinned"];let l=A(e,i),{pinned:a=!1}=e,o=fn;return n.$$set=n=>{e=B(B({},e),C(n)),t(1,l=A(e,i)),"pinned"in n&&t(2,a=n.pinned)},n.$$.update=()=>{4&n.$$.dirty&&t(0,o=a?dn:fn)},[o,l,a,function(e){z.call(this,n,e)}]}class gn extends n{constructor(n){super(),e(this,n,mn,pn,t,{pinned:2})}}function vn(n){let e,t,i;function l(e){n[10](e)}let a={};return void 0!==n[0].pinned&&(a.pinned=n[0].pinned),e=new gn({props:a}),h.push((()=>x(e,"pinned",l))),e.$on("click",n[11]),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,t){f(e,n,t),i=!0},p(n,i){const l={};!t&&1&i&&(t=!0,l.pinned=n[0].pinned,w((()=>t=!1))),e.$set(l)},i(n){i||(p(e.$$.fragment,n),i=!0)},o(n){u(e.$$.fragment,n),i=!1},d(n){g(e,n)}}}function hn(n){let e,t,l,v,b,y,T,k,q;function _(e){n[5](e)}var D=n[2];function N(n){let e={};return void 0!==n[0]&&(e.field=n[0]),{props:e}}D&&(e=new D(N(n)),h.push((()=>x(e,"field",_))),e.$on("cancel",n[6]),e.$on("edit",n[7]),e.$on("del",n[8])),v=new i({props:{iconDescription:"Delete",hasIconOnly:!0,kind:"ghost",size:"field",icon:F}}),v.$on("click",n[9]);let z=n[1]&&vn(n);return{c(){e&&o(e.$$.fragment),l=a(),o(v.$$.fragment),b=a(),z&&z.c(),y=I()},l(n){e&&s(e.$$.fragment,n),l=r(n),s(v.$$.fragment,n),b=r(n),z&&z.l(n),y=I()},m(t,i){e&&f(e,t,i),$(t,l,i),f(v,t,i),$(t,b,i),z&&z.m(t,i),$(t,y,i),T=!0,k||(q=L(window,"keydown",n[4]),k=!0)},p(n,[i]){const a={};if(!t&&1&i&&(t=!0,a.field=n[0],w((()=>t=!1))),D!==(D=n[2])){if(e){c();const n=e;u(n.$$.fragment,1,0,(()=>{g(n,1)})),d()}D?(e=new D(N(n)),h.push((()=>x(e,"field",_))),e.$on("cancel",n[6]),e.$on("edit",n[7]),e.$on("del",n[8]),o(e.$$.fragment),p(e.$$.fragment,1),f(e,l.parentNode,l)):e=null}else D&&e.$set(a);n[1]?z?(z.p(n,i),2&i&&p(z,1)):(z=vn(n),z.c(),p(z,1),z.m(y.parentNode,y)):z&&(c(),u(z,1,1,(()=>{z=null})),d())},i(n){T||(e&&p(e.$$.fragment,n),p(v.$$.fragment,n),p(z),T=!0)},o(n){e&&u(e.$$.fragment,n),u(v.$$.fragment,n),u(z),T=!1},d(n){e&&g(e,n),n&&m(l),g(v,n),n&&m(b),z&&z.d(n),n&&m(y),k=!1,q()}}}function xn(n,e,t){let{pin:i=!1}=e,{field:l={}}=e;const a=G();let o;return n.$$set=n=>{"pin"in n&&t(1,i=n.pin),"field"in n&&t(0,l=n.field)},n.$$.update=()=>{1&n.$$.dirty&&(l.edit?t(2,o=rn):l.edit||t(2,o=Z))},[l,i,o,a,n=>{switch(n.keyCode){case 13:l.focused&&(l.edit?t(0,l.edit=!1,l):l.edit||a("enter"))}},function(n){l=n,t(0,l)},function(e){z.call(this,n,e)},function(e){z.call(this,n,e)},function(e){z.call(this,n,e)},()=>{a("del")},function(e){n.$$.not_equal(l.pinned,e)&&(l.pinned=e,t(0,l))},()=>{t(0,l.pinned=!l.pinned,l)}]}class wn extends n{constructor(n){super(),e(this,n,xn,hn,t,{pin:1,field:0})}}function bn(n,e,t){const i=n.slice();return i[9]=e[t],i[10]=e,i[11]=t,i}function yn(n){let e,t,i;function l(e){n[5](e,n[9],n[10],n[11])}let a={pin:n[2]};return void 0!==n[9]&&(a.field=n[9]),e=new wn({props:a}),h.push((()=>x(e,"field",l))),e.$on("del",(function(){R(n[3](n[9]))&&n[3](n[9]).apply(this,arguments)})),e.$on("enter",n[6]),{c(){o(e.$$.fragment)},l(n){s(e.$$.fragment,n)},m(n,t){f(e,n,t),i=!0},p(i,l){n=i;const a={};4&l&&(a.pin=n[2]),!t&&1&l&&(t=!0,a.field=n[9],w((()=>t=!1))),e.$set(a)},i(n){i||(p(e.$$.fragment,n),i=!0)},o(n){u(e.$$.fragment,n),i=!1},d(n){g(e,n)}}}function Tn(n){let e;return{c(){e=S(n[1])},l(t){e=U(t,n[1])},m(n,t){$(n,e,t)},p(n,t){2&t&&V(e,n[1])},d(n){n&&m(e)}}}function kn(n){let e,t,l,v,h=n[0],x=[];for(let i=0;i<h.length;i+=1)x[i]=yn(bn(n,h,i));const w=n=>u(x[n],1,1,(()=>{x[n]=null}));return l=new i({props:{$$slots:{default:[Tn]},$$scope:{ctx:n}}}),l.$on("click",n[4]),{c(){for(let n=0;n<x.length;n+=1)x[n].c();e=a(),t=H("div"),o(l.$$.fragment)},l(n){for(let e=0;e<x.length;e+=1)x[e].l(n);e=r(n),t=J(n,"DIV",{});var i=P(t);s(l.$$.fragment,i),i.forEach(m)},m(n,i){for(let e=0;e<x.length;e+=1)x[e].m(n,i);$(n,e,i),$(n,t,i),f(l,t,null),v=!0},p(n,[t]){if(13&t){let i;for(h=n[0],i=0;i<h.length;i+=1){const l=bn(n,h,i);x[i]?(x[i].p(l,t),p(x[i],1)):(x[i]=yn(l),x[i].c(),p(x[i],1),x[i].m(e.parentNode,e))}for(c(),i=h.length;i<x.length;i+=1)w(i);d()}const i={};4098&t&&(i.$$scope={dirty:t,ctx:n}),l.$set(i)},i(n){if(!v){for(let n=0;n<h.length;n+=1)p(x[n]);p(l.$$.fragment,n),v=!0}},o(n){x=x.filter(Boolean);for(let e=0;e<x.length;e+=1)u(x[e]);u(l.$$.fragment,n),v=!1},d(n){_(x,n),n&&m(e),n&&m(t),g(l)}}}function qn(n,e,t){let{prompt:i="Add Custom Field"}=e,{pin:l=!1}=e,{fields:a=[]}=e;return n.$$set=n=>{"prompt"in n&&t(1,i=n.prompt),"pin"in n&&t(2,l=n.pin),"fields"in n&&t(0,a=n.fields)},[a,i,l,n=>{t(0,a=a.filter((e=>e.id!=n.id)))},()=>{a.forEach((n=>{n.focused=!1}));t(0,a=[...a,{pinned:!1,type:"text",ref:null,new:!0,label:"",value:"",edit:!0}])},function(n,e,i,l){i[l]=n,t(0,a)},function(e){z.call(this,n,e)}]}class In extends n{constructor(n){super(),e(this,n,qn,kn,t,{prompt:1,pin:2,fields:0})}}export{In as F};
