import{S as n,i as e,s as t,E as i,F as l,an as o,ao as a,j as r,k as s,m as $,n as f,o as c,f as d,G as u,v as p,r as m,w as g,d as v,z as h,af as w,ap as x,B as k,u as y,aq as b,ar as T,L as I,as as D,l as q,p as z,q as O,H as N,A as _,J as E,at as j,O as A,a8 as C,e as F,c as B,a as L,aa as G,ad as H,t as J,g as P,h as S}from"./vendor-221a53e8.js";import{I as U}from"./Input-cd25684c.js";function V(n){let e,t,h,w,x,k,y;function b(e){n[2](e)}function T(e){n[3](e)}function I(e){n[4](e)}let D={labelText:n[0].label,invalidText:n[0].invalidText};return void 0!==n[1]&&(D.ref=n[1]),void 0!==n[0].value&&(D.value=n[0].value),void 0!==n[0].invalid&&(D.invalid=n[0].invalid),e=new U({props:D}),i.push((()=>l(e,"ref",b))),i.push((()=>l(e,"value",T))),i.push((()=>l(e,"invalid",I))),k=new o({props:{iconDescription:"Edit",hasIconOnly:!0,kind:"ghost",size:"field",icon:a}}),k.$on("click",n[5]),{c(){r(e.$$.fragment),x=s(),r(k.$$.fragment)},l(n){$(e.$$.fragment,n),x=f(n),$(k.$$.fragment,n)},m(n,t){c(e,n,t),d(n,x,t),c(k,n,t),y=!0},p(n,[i]){const l={};1&i&&(l.labelText=n[0].label),1&i&&(l.invalidText=n[0].invalidText),!t&&2&i&&(t=!0,l.ref=n[1],u((()=>t=!1))),!h&&1&i&&(h=!0,l.value=n[0].value,u((()=>h=!1))),!w&&1&i&&(w=!0,l.invalid=n[0].invalid,u((()=>w=!1))),e.$set(l)},i(n){y||(p(e.$$.fragment,n),p(k.$$.fragment,n),y=!0)},o(n){m(e.$$.fragment,n),m(k.$$.fragment,n),y=!1},d(n){g(e,n),n&&v(x),g(k,n)}}}function K(n,e,t){let i,{field:l={}}=e;h((()=>{i&&i.focus(),t(0,l.focused=!0,l)}));return n.$$set=n=>{"field"in n&&t(0,l=n.field)},[l,i,function(n){i=n,t(1,i)},function(e){n.$$.not_equal(l.value,e)&&(l.value=e,t(0,l))},function(e){n.$$.not_equal(l.invalid,e)&&(l.invalid=e,t(0,l))},()=>{t(0,l.dirty=l,l),t(0,l.edit=!0,l)}]}class M extends n{constructor(n){super(),e(this,n,K,V,t,{field:0})}}function Q(n){let e,t;return e=new o({props:{iconDescription:"Cancel",hasIconOnly:!0,kind:"ghost",size:"field",icon:b}}),e.$on("click",n[5]),{c(){r(e.$$.fragment)},l(n){$(e.$$.fragment,n)},m(n,i){c(e,n,i),t=!0},p:w,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){g(e,n)}}}function R(n){let e,t,a,h,w,b,T,I;function D(e){n[2](e)}function q(e){n[3](e)}function z(e){n[4](e)}let O={labelText:"Label",invalidText:n[0].invalidText};void 0!==n[1]&&(O.ref=n[1]),void 0!==n[0].label&&(O.value=n[0].label),void 0!==n[0].invalid&&(O.invalid=n[0].invalid),e=new U({props:O}),i.push((()=>l(e,"ref",D))),i.push((()=>l(e,"value",q))),i.push((()=>l(e,"invalid",z)));let N=!n[0].new&&Q(n);return T=new o({props:{iconDescription:"Accept",hasIconOnly:!0,kind:"ghost",size:"field",icon:x}}),T.$on("click",n[6]),{c(){r(e.$$.fragment),w=s(),N&&N.c(),b=s(),r(T.$$.fragment)},l(n){$(e.$$.fragment,n),w=f(n),N&&N.l(n),b=f(n),$(T.$$.fragment,n)},m(n,t){c(e,n,t),d(n,w,t),N&&N.m(n,t),d(n,b,t),c(T,n,t),I=!0},p(n,[i]){const l={};1&i&&(l.invalidText=n[0].invalidText),!t&&2&i&&(t=!0,l.ref=n[1],u((()=>t=!1))),!a&&1&i&&(a=!0,l.value=n[0].label,u((()=>a=!1))),!h&&1&i&&(h=!0,l.invalid=n[0].invalid,u((()=>h=!1))),e.$set(l),n[0].new?N&&(k(),m(N,1,1,(()=>{N=null})),y()):N?(N.p(n,i),1&i&&p(N,1)):(N=Q(n),N.c(),p(N,1),N.m(b.parentNode,b))},i(n){I||(p(e.$$.fragment,n),p(N),p(T.$$.fragment,n),I=!0)},o(n){m(e.$$.fragment,n),m(N),m(T.$$.fragment,n),I=!1},d(n){g(e,n),n&&v(w),N&&N.d(n),n&&v(b),g(T,n)}}}function W(n,e,t){let i,{field:l={}}=e;h((()=>{i&&i.focus(),t(0,l.focused=!0,l)}));return n.$$set=n=>{"field"in n&&t(0,l=n.field)},[l,i,function(n){i=n,t(1,i)},function(e){n.$$.not_equal(l.label,e)&&(l.label=e,t(0,l))},function(e){n.$$.not_equal(l.invalid,e)&&(l.invalid=e,t(0,l))},()=>{t(0,l=l.dirty)},()=>{l.new&&t(0,l.new=!1,l),t(0,l.edit=!1,l)}]}class X extends n{constructor(n){super(),e(this,n,W,R,t,{field:0})}}function Y(n){let e,t;return e=new o({props:{iconDescription:"Pin field",hasIconOnly:!0,kind:"ghost",size:"field",icon:T}}),e.$on("click",n[0]),{c(){r(e.$$.fragment)},l(n){$(e.$$.fragment,n)},m(n,i){c(e,n,i),t=!0},p:w,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){g(e,n)}}}function Z(n){return[function(e){I(n,e)}]}class nn extends n{constructor(n){super(),e(this,n,Z,Y,t,{})}}function en(n){let e,t;return e=new o({props:{iconDescription:"Unpin field",hasIconOnly:!0,kind:"ghost",size:"field",icon:D}}),e.$on("click",n[0]),{c(){r(e.$$.fragment)},l(n){$(e.$$.fragment,n)},m(n,i){c(e,n,i),t=!0},p:w,i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){g(e,n)}}}function tn(n){return[function(e){I(n,e)}]}class ln extends n{constructor(n){super(),e(this,n,tn,en,t,{})}}function on(n){let e,t,i;const l=[n[1]];var o=n[0];function a(n){let e={};for(let t=0;t<l.length;t+=1)e=_(e,l[t]);return{props:e}}return o&&(e=new o(a()),e.$on("click",n[3])),{c(){e&&r(e.$$.fragment),t=q()},l(n){e&&$(e.$$.fragment,n),t=q()},m(n,l){e&&c(e,n,l),d(n,t,l),i=!0},p(n,[i]){const s=2&i?z(l,[O(n[1])]):{};if(o!==(o=n[0])){if(e){k();const n=e;m(n.$$.fragment,1,0,(()=>{g(n,1)})),y()}o?(e=new o(a()),e.$on("click",n[3]),r(e.$$.fragment),p(e.$$.fragment,1),c(e,t.parentNode,t)):e=null}else o&&e.$set(s)},i(n){i||(e&&p(e.$$.fragment,n),i=!0)},o(n){e&&m(e.$$.fragment,n),i=!1},d(n){n&&v(t),e&&g(e,n)}}}function an(n,e,t){const i=["pinned"];let l=N(e,i),{pinned:o=!1}=e,a=nn;return n.$$set=n=>{e=_(_({},e),E(n)),t(1,l=N(e,i)),"pinned"in n&&t(2,o=n.pinned)},n.$$.update=()=>{4&n.$$.dirty&&t(0,a=o?ln:nn)},[a,l,o,function(e){I(n,e)}]}class rn extends n{constructor(n){super(),e(this,n,an,on,t,{pinned:2})}}function sn(n){let e,t,o;function a(e){n[10](e)}let s={};return void 0!==n[0].pinned&&(s.pinned=n[0].pinned),e=new rn({props:s}),i.push((()=>l(e,"pinned",a))),e.$on("click",n[11]),{c(){r(e.$$.fragment)},l(n){$(e.$$.fragment,n)},m(n,t){c(e,n,t),o=!0},p(n,i){const l={};!t&&1&i&&(t=!0,l.pinned=n[0].pinned,u((()=>t=!1))),e.$set(l)},i(n){o||(p(e.$$.fragment,n),o=!0)},o(n){m(e.$$.fragment,n),o=!1},d(n){g(e,n)}}}function $n(n){let e,t,a,h,w,x,b,T,I;function D(e){n[5](e)}var z=n[2];function O(n){let e={};return void 0!==n[0]&&(e.field=n[0]),{props:e}}z&&(e=new z(O(n)),i.push((()=>l(e,"field",D))),e.$on("cancel",n[6]),e.$on("edit",n[7]),e.$on("del",n[8])),h=new o({props:{iconDescription:"Delete",hasIconOnly:!0,kind:"ghost",size:"field",icon:j}}),h.$on("click",n[9]);let N=n[1]&&sn(n);return{c(){e&&r(e.$$.fragment),a=s(),r(h.$$.fragment),w=s(),N&&N.c(),x=q()},l(n){e&&$(e.$$.fragment,n),a=f(n),$(h.$$.fragment,n),w=f(n),N&&N.l(n),x=q()},m(t,i){e&&c(e,t,i),d(t,a,i),c(h,t,i),d(t,w,i),N&&N.m(t,i),d(t,x,i),b=!0,T||(I=A(window,"keydown",n[4]),T=!0)},p(n,[o]){const s={};if(!t&&1&o&&(t=!0,s.field=n[0],u((()=>t=!1))),z!==(z=n[2])){if(e){k();const n=e;m(n.$$.fragment,1,0,(()=>{g(n,1)})),y()}z?(e=new z(O(n)),i.push((()=>l(e,"field",D))),e.$on("cancel",n[6]),e.$on("edit",n[7]),e.$on("del",n[8]),r(e.$$.fragment),p(e.$$.fragment,1),c(e,a.parentNode,a)):e=null}else z&&e.$set(s);n[1]?N?(N.p(n,o),2&o&&p(N,1)):(N=sn(n),N.c(),p(N,1),N.m(x.parentNode,x)):N&&(k(),m(N,1,1,(()=>{N=null})),y())},i(n){b||(e&&p(e.$$.fragment,n),p(h.$$.fragment,n),p(N),b=!0)},o(n){e&&m(e.$$.fragment,n),m(h.$$.fragment,n),m(N),b=!1},d(n){e&&g(e,n),n&&v(a),g(h,n),n&&v(w),N&&N.d(n),n&&v(x),T=!1,I()}}}function fn(n,e,t){let{pin:i=!1}=e,{field:l={}}=e;const o=C();let a;return n.$$set=n=>{"pin"in n&&t(1,i=n.pin),"field"in n&&t(0,l=n.field)},n.$$.update=()=>{1&n.$$.dirty&&(l.edit?t(2,a=X):l.edit||t(2,a=M))},[l,i,a,o,n=>{switch(n.keyCode){case 13:l.focused&&(l.edit?t(0,l.edit=!1,l):l.edit||o("enter"))}},function(n){l=n,t(0,l)},function(e){I(n,e)},function(e){I(n,e)},function(e){I(n,e)},()=>{o("del")},function(e){n.$$.not_equal(l.pinned,e)&&(l.pinned=e,t(0,l))},()=>{t(0,l.pinned=!l.pinned,l)}]}class cn extends n{constructor(n){super(),e(this,n,fn,$n,t,{pin:1,field:0})}}function dn(n,e,t){const i=n.slice();return i[9]=e[t],i[10]=e,i[11]=t,i}function un(n){let e,t,o;function a(e){n[5](e,n[9],n[10],n[11])}let s={pin:n[2]};return void 0!==n[9]&&(s.field=n[9]),e=new cn({props:s}),i.push((()=>l(e,"field",a))),e.$on("del",(function(){H(n[3](n[9]))&&n[3](n[9]).apply(this,arguments)})),e.$on("enter",n[6]),{c(){r(e.$$.fragment)},l(n){$(e.$$.fragment,n)},m(n,t){c(e,n,t),o=!0},p(i,l){n=i;const o={};4&l&&(o.pin=n[2]),!t&&1&l&&(t=!0,o.field=n[9],u((()=>t=!1))),e.$set(o)},i(n){o||(p(e.$$.fragment,n),o=!0)},o(n){m(e.$$.fragment,n),o=!1},d(n){g(e,n)}}}function pn(n){let e;return{c(){e=J(n[1])},l(t){e=P(t,n[1])},m(n,t){d(n,e,t)},p(n,t){2&t&&S(e,n[1])},d(n){n&&v(e)}}}function mn(n){let e,t,i,l,a=n[0],u=[];for(let o=0;o<a.length;o+=1)u[o]=un(dn(n,a,o));const h=n=>m(u[n],1,1,(()=>{u[n]=null}));return i=new o({props:{$$slots:{default:[pn]},$$scope:{ctx:n}}}),i.$on("click",n[4]),{c(){for(let n=0;n<u.length;n+=1)u[n].c();e=s(),t=F("div"),r(i.$$.fragment)},l(n){for(let e=0;e<u.length;e+=1)u[e].l(n);e=f(n),t=B(n,"DIV",{});var l=L(t);$(i.$$.fragment,l),l.forEach(v)},m(n,o){for(let e=0;e<u.length;e+=1)u[e].m(n,o);d(n,e,o),d(n,t,o),c(i,t,null),l=!0},p(n,[t]){if(13&t){let i;for(a=n[0],i=0;i<a.length;i+=1){const l=dn(n,a,i);u[i]?(u[i].p(l,t),p(u[i],1)):(u[i]=un(l),u[i].c(),p(u[i],1),u[i].m(e.parentNode,e))}for(k(),i=a.length;i<u.length;i+=1)h(i);y()}const l={};4098&t&&(l.$$scope={dirty:t,ctx:n}),i.$set(l)},i(n){if(!l){for(let n=0;n<a.length;n+=1)p(u[n]);p(i.$$.fragment,n),l=!0}},o(n){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)m(u[e]);m(i.$$.fragment,n),l=!1},d(n){G(u,n),n&&v(e),n&&v(t),g(i)}}}function gn(n,e,t){let{prompt:i="Add Custom Field"}=e,{pin:l=!1}=e,{fields:o=[]}=e;return n.$$set=n=>{"prompt"in n&&t(1,i=n.prompt),"pin"in n&&t(2,l=n.pin),"fields"in n&&t(0,o=n.fields)},[o,i,l,n=>{t(0,o=o.filter((e=>e.id!=n.id)))},()=>{o.forEach((n=>{n.focused=!1}));t(0,o=[...o,{pinned:!1,ref:null,new:!0,label:"",value:"",edit:!0}])},function(n,e,i,l){i[l]=n,t(0,o)},function(e){I(n,e)}]}class vn extends n{constructor(n){super(),e(this,n,gn,mn,t,{prompt:1,pin:2,fields:0})}}export{vn as F};
