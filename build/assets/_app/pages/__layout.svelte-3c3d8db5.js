import{S as t,i as e,s,B as n,D as r,E as $,F as o,j as a,m as c,o as i,p as m,q as l,G as f,x as p,u as d,v as u,H as g,I as h,J as x,K as w,L as y,M as k,N as S,k as v,n as b,f as _,O as N,d as j,P as O,A,Q as E,l as I,r as K,w as C,R as M,e as D,c as H,a as T,b as V,T as F,U as J,V as L,W as P,X as R,Y as q,Z as z,C as B,_ as G,y as Q,z as U,$ as W,a0 as X}from"../chunks/vendor-c7b4d8a9.js";import{i as Y}from"../chunks/stores-fc5807c6.js";import{g as Z}from"../chunks/api-eadfccdc.js";import{p as tt}from"../chunks/utils-80e4c2bc.js";import{g as et}from"../chunks/navigation-51f4a605.js";import{s as st,n as nt,p as rt}from"../chunks/stores-dacb6c87.js";import"../chunks/singletons-12a22614.js";function $t(t){let e,s,g,h;const x=[t[3]];function w(e){t[4](e)}function y(e){t[5](e)}let k={};for(let r=0;r<x.length;r+=1)k=n(k,x[r]);return void 0!==t[0]&&(k.href=t[0]),void 0!==t[1]&&(k.text=t[1]),e=new r({props:k}),$.push((()=>o(e,"href",w))),$.push((()=>o(e,"text",y))),e.$on("click",t[6]),e.$on("click",t[2]),{c(){a(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,s){i(e,t,s),h=!0},p(t,[n]){const r=8&n?m(x,[l(t[3])]):{};!s&&1&n&&(s=!0,r.href=t[0],f((()=>s=!1))),!g&&2&n&&(g=!0,r.text=t[1],f((()=>g=!1))),e.$set(r)},i(t){h||(p(e.$$.fragment,t),h=!0)},o(t){d(e.$$.fragment,t),h=!1},d(t){u(e,t)}}}function ot(t,e,s){const r=["href","text"];let $,o=g(e,r);h(t,Y,(t=>s(7,$=t)));let{href:a=""}=e,{text:c=""}=e;return t.$$set=t=>{e=n(n({},e),x(t)),s(3,o=g(e,r)),"href"in t&&s(0,a=t.href),"text"in t&&s(1,c=t.text)},[a,c,()=>{w(Y,$=!1,$)},o,function(t){a=t,s(0,a)},function(t){c=t,s(1,c)},function(e){y.call(this,t,e)}]}class at extends t{constructor(t){super(),e(this,t,ot,$t,s,{href:0,text:1})}}const{window:ct}=E;function it(t){let e,s;return e=new J({}),{c(){a(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,n){i(e,t,n),s=!0},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){d(e.$$.fragment,t),s=!1},d(t){u(e,t)}}}function mt(t){let e,s,n=t[5]&&it();return{c(){n&&n.c(),e=I()},l(t){n&&n.l(t),e=I()},m(t,r){n&&n.m(t,r),_(t,e,r),s=!0},p(t,s){t[5]?n?32&s&&p(n,1):(n=it(),n.c(),p(n,1),n.m(e.parentNode,e)):n&&(K(),d(n,1,1,(()=>{n=null})),C())},i(t){s||(p(n),s=!0)},o(t){d(n),s=!1},d(t){n&&n.d(t),t&&j(e)}}}function lt(t){let e,s,n;return s=new M({}),{c(){e=D("div"),a(s.$$.fragment),this.h()},l(t){e=H(t,"DIV",{slot:!0});var n=T(e);c(s.$$.fragment,n),n.forEach(j),this.h()},h(){V(e,"slot","skip-to-content")},m(t,r){_(t,e,r),i(s,e,null),n=!0},i(t){n||(p(s.$$.fragment,t),n=!0)},o(t){d(s.$$.fragment,t),n=!1},d(t){t&&j(e),u(s)}}}function ft(t){let e,s,n,r=t[1]&&pt(t);return s=new at({props:{isSelected:"login"==t[6].path.split("/")[1],text:"Login",href:"/login"}}),{c(){r&&r.c(),e=v(),a(s.$$.fragment)},l(t){r&&r.l(t),e=b(t),c(s.$$.fragment,t)},m(t,$){r&&r.m(t,$),_(t,e,$),i(s,t,$),n=!0},p(t,n){t[1]?r?(r.p(t,n),2&n&&p(r,1)):(r=pt(t),r.c(),p(r,1),r.m(e.parentNode,e)):r&&(K(),d(r,1,1,(()=>{r=null})),C());const $={};64&n&&($.isSelected="login"==t[6].path.split("/")[1]),s.$set($)},i(t){n||(p(r),p(s.$$.fragment,t),n=!0)},o(t){d(r),d(s.$$.fragment,t),n=!1},d(t){r&&r.d(t),t&&j(e),u(s,t)}}}function pt(t){let e,s,n;function r(e){t[12](e)}let m={href:"",text:"Add To Homescreen"};return void 0!==t[2]&&(m.ref=t[2]),e=new at({props:m}),$.push((()=>o(e,"ref",r))),e.$on("click",t[9]),{c(){a(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,s){i(e,t,s),n=!0},p(t,n){const r={};!s&&4&n&&(s=!0,r.ref=t[2],f((()=>s=!1))),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){u(e,t)}}}function dt(t){let e,s,n,r,$,o,m,l,f,g;return e=new L({props:{text:"Rooms",$$slots:{default:[ut]},$$scope:{ctx:t}}}),n=new at({props:{isSelected:"add_item"==t[6].path.split("/")[1],href:"/add_item",text:"Add Item"}}),$=new at({props:{isSelected:"items"==t[6].path.split("/")[1],href:"/items/"+t[0].id,text:"My Items"}}),m=new at({props:{isSelected:"edit"==t[6].path.split("/")[1],href:"/edit",text:"Edit"}}),f=new at({props:{text:"Exit",href:""}}),f.$on("click",t[10]),{c(){a(e.$$.fragment),s=v(),a(n.$$.fragment),r=v(),a($.$$.fragment),o=v(),a(m.$$.fragment),l=v(),a(f.$$.fragment)},l(t){c(e.$$.fragment,t),s=b(t),c(n.$$.fragment,t),r=b(t),c($.$$.fragment,t),o=b(t),c(m.$$.fragment,t),l=b(t),c(f.$$.fragment,t)},m(t,a){i(e,t,a),_(t,s,a),i(n,t,a),_(t,r,a),i($,t,a),_(t,o,a),i(m,t,a),_(t,l,a),i(f,t,a),g=!0},p(t,s){const r={};131136&s&&(r.$$scope={dirty:s,ctx:t}),e.$set(r);const o={};64&s&&(o.isSelected="add_item"==t[6].path.split("/")[1]),n.$set(o);const a={};64&s&&(a.isSelected="items"==t[6].path.split("/")[1]),1&s&&(a.href="/items/"+t[0].id),$.$set(a);const c={};64&s&&(c.isSelected="edit"==t[6].path.split("/")[1]),m.$set(c)},i(t){g||(p(e.$$.fragment,t),p(n.$$.fragment,t),p($.$$.fragment,t),p(m.$$.fragment,t),p(f.$$.fragment,t),g=!0)},o(t){d(e.$$.fragment,t),d(n.$$.fragment,t),d($.$$.fragment,t),d(m.$$.fragment,t),d(f.$$.fragment,t),g=!1},d(t){u(e,t),t&&j(s),u(n,t),t&&j(r),u($,t),t&&j(o),u(m,t),t&&j(l),u(f,t)}}}function ut(t){let e,s,n,r,$,o;return e=new at({props:{isSelected:"rooms"==t[6].path.split("/")[1],href:"/rooms",text:"All rooms"}}),n=new at({props:{isSelected:"my_rooms"==t[6].path.split("/")[1],href:"/my_rooms",text:"My rooms"}}),$=new at({props:{isSelected:"add_room"==t[6].path.split("/")[1],href:"/add_room",text:"Add room"}}),{c(){a(e.$$.fragment),s=v(),a(n.$$.fragment),r=v(),a($.$$.fragment)},l(t){c(e.$$.fragment,t),s=b(t),c(n.$$.fragment,t),r=b(t),c($.$$.fragment,t)},m(t,a){i(e,t,a),_(t,s,a),i(n,t,a),_(t,r,a),i($,t,a),o=!0},p(t,s){const r={};64&s&&(r.isSelected="rooms"==t[6].path.split("/")[1]),e.$set(r);const o={};64&s&&(o.isSelected="my_rooms"==t[6].path.split("/")[1]),n.$set(o);const a={};64&s&&(a.isSelected="add_room"==t[6].path.split("/")[1]),$.$set(a)},i(t){o||(p(e.$$.fragment,t),p(n.$$.fragment,t),p($.$$.fragment,t),o=!0)},o(t){d(e.$$.fragment,t),d(n.$$.fragment,t),d($.$$.fragment,t),o=!1},d(t){u(e,t),t&&j(s),u(n,t),t&&j(r),u($,t)}}}function gt(t){let e,s,n,r=!t[3].token&&ft(t),$=t[3].token&&t[0]&&dt(t);return{c(){r&&r.c(),e=v(),$&&$.c(),s=I()},l(t){r&&r.l(t),e=b(t),$&&$.l(t),s=I()},m(t,o){r&&r.m(t,o),_(t,e,o),$&&$.m(t,o),_(t,s,o),n=!0},p(t,n){t[3].token?r&&(K(),d(r,1,1,(()=>{r=null})),C()):r?(r.p(t,n),8&n&&p(r,1)):(r=ft(t),r.c(),p(r,1),r.m(e.parentNode,e)),t[3].token&&t[0]?$?($.p(t,n),9&n&&p($,1)):($=dt(t),$.c(),p($,1),$.m(s.parentNode,s)):$&&(K(),d($,1,1,(()=>{$=null})),C())},i(t){n||(p(r),p($),n=!0)},o(t){d(r),d($),n=!1},d(t){r&&r.d(t),t&&j(e),$&&$.d(t),t&&j(s)}}}function ht(t){let e,s;return e=new F({props:{$$slots:{default:[gt]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,n){i(e,t,n),s=!0},p(t,s){const n={};131151&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){d(e.$$.fragment,t),s=!1},d(t){u(e,t)}}}function xt(t){let e,s,n,r,m,l,g,h;function x(e){t[11](e)}let w={persistentHamburgerMenu:!0,company:"Apexlinks",platFormName:"",href:"/",$$slots:{"skip-to-content":[lt],default:[mt]},$$scope:{ctx:t}};function y(e){t[13](e)}void 0!==t[4]&&(w.isSideNavOpen=t[4]),e=new k({props:w}),$.push((()=>o(e,"isSideNavOpen",x)));let A={$$slots:{default:[ht]},$$scope:{ctx:t}};return void 0!==t[4]&&(A.isOpen=t[4]),r=new S({props:A}),$.push((()=>o(r,"isOpen",y))),{c(){a(e.$$.fragment),n=v(),a(r.$$.fragment)},l(t){c(e.$$.fragment,t),n=b(t),c(r.$$.fragment,t)},m(s,$){i(e,s,$),_(s,n,$),i(r,s,$),l=!0,g||(h=[N(ct,"appinstalled",t[7]),N(ct,"beforeinstallprompt",t[8])],g=!0)},p(t,[n]){const $={};131104&n&&($.$$scope={dirty:n,ctx:t}),!s&&16&n&&(s=!0,$.isSideNavOpen=t[4],f((()=>s=!1))),e.$set($);const o={};131151&n&&(o.$$scope={dirty:n,ctx:t}),!m&&16&n&&(m=!0,o.isOpen=t[4],f((()=>m=!1))),r.$set(o)},i(t){l||(p(e.$$.fragment,t),p(r.$$.fragment,t),l=!0)},o(t){d(e.$$.fragment,t),d(r.$$.fragment,t),l=!1},d(t){u(e,t),t&&j(n),u(r,t),g=!1,O(h)}}}function wt(t,e,s){let n,r,$,o,a,c,i,m;h(t,st,(t=>s(3,n=t))),h(t,Y,(t=>s(4,r=t))),h(t,nt,(t=>s(5,$=t))),h(t,rt,(t=>s(6,o=t))),A((async()=>{s(0,a=await Z("user",n.token))})),w(Y,r=!1,r);return[a,c,i,n,r,$,o,()=>{s(1,c=!1)},t=>{s(1,c=!0),t.preventDefault(),m=t},()=>{m.prompt(),m.userChoice.then((t=>{"accepted"===t.outcome&&s(1,c=!1)}))},async()=>{w(st,n.token=null,n),await tt("/auth/exit"),et("/login"),console.log("ce",n.token)},function(t){r=t,Y.set(r)},function(t){i=t,s(2,i)},function(t){r=t,Y.set(r)}]}class yt extends t{constructor(t){super(),e(this,t,wt,xt,s,{})}}function kt(t){let e;const s=t[5].default,n=P(s,t,t[4],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,s){n&&n.m(t,s),e=!0},p(t,[r]){n&&n.p&&(!e||16&r)&&R(n,s,t,t[4],e?z(s,t[4],r,null):q(t[4]),null)},i(t){e||(p(n,t),e=!0)},o(t){d(n,t),e=!1},d(t){n&&n.d(t)}}}function St(t,e,s){let{$$slots:n={},$$scope:r}=e,{persist:$=!1}=e,{persistKey:o="theme"}=e,{theme:a="white"}=e;const c=["white","g10","g90","g100"],i=t=>c.includes(t),m=t=>i(t)&&("g90"===t||"g100"===t),l=B(a),f=B(m(a)),p=G(f,(t=>!t)),d=l.subscribe((t=>{s(0,a=t)}));let u=null;return Q("Theme",{updateVar:(t,e)=>{null!=u&&u.documentElement.style.setProperty(t,e)},carbon_theme:l,dark:f,light:p}),A((()=>{u=window.document;try{const t=localStorage.getItem(o);i(t)&&l.set(t)}catch(t){console.error(t)}return()=>{d()}})),U((()=>{i(a)?(null!=u&&u.documentElement.setAttribute("theme",a),$&&localStorage.setItem(o,a)):console.warn(`"${a}" is not a valid Carbon theme. Choose from available themes: ${JSON.stringify(c)}`)})),t.$$set=t=>{"persist"in t&&s(1,$=t.persist),"persistKey"in t&&s(2,o=t.persistKey),"theme"in t&&s(0,a=t.theme),"$$scope"in t&&s(4,r=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty&&f.set(m(a))},[a,$,o,c,r,n]}class vt extends t{constructor(t){super(),e(this,t,St,kt,s,{persist:1,persistKey:2,theme:0,themes:3})}get themes(){return this.$$.ctx[3]}}function bt(t){let e;const s=t[0].default,n=P(s,t,t[1],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,s){n&&n.m(t,s),e=!0},p(t,r){n&&n.p&&(!e||2&r)&&R(n,s,t,t[1],e?z(s,t[1],r,null):q(t[1]),null)},i(t){e||(p(n,t),e=!0)},o(t){d(n,t),e=!1},d(t){n&&n.d(t)}}}function _t(t){let e,s;return e=new X({props:{$$slots:{default:[bt]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,n){i(e,t,n),s=!0},p(t,s){const n={};2&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){d(e.$$.fragment,t),s=!1},d(t){u(e,t)}}}function Nt(t){let e,s,n,r;return e=new yt({}),n=new W({props:{style:"background: none; padding: 1rem",$$slots:{default:[_t]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment),s=v(),a(n.$$.fragment)},l(t){c(e.$$.fragment,t),s=b(t),c(n.$$.fragment,t)},m(t,$){i(e,t,$),_(t,s,$),i(n,t,$),r=!0},p(t,e){const s={};2&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){r||(p(e.$$.fragment,t),p(n.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),d(n.$$.fragment,t),r=!1},d(t){u(e,t),t&&j(s),u(n,t)}}}function jt(t){let e,s;return e=new vt({props:{persist:!0,theme:"g10",$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){a(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,n){i(e,t,n),s=!0},p(t,[s]){const n={};2&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){d(e.$$.fragment,t),s=!1},d(t){u(e,t)}}}function Ot(t,e,s){let{$$slots:n={},$$scope:r}=e;return t.$$set=t=>{"$$scope"in t&&s(1,r=t.$$scope)},[n,r]}class At extends t{constructor(t){super(),e(this,t,Ot,jt,s,{})}}export{At as default};
