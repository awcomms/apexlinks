import{S as I,i as V,s as D,B as W,D as ae,E as y,F as C,j as h,m as k,o as b,p as le,q as fe,G as A,x as c,u as p,v,H as F,I as K,J as oe,K as q,L as ue,M as ce,N as pe,k as T,n as E,f as O,O as G,d as N,P as me,Q as _e,l as H,r as L,w as M,R as de,e as $e,c as ge,a as he,b as ke,T as be,U as ve,V as J,W as R,X as z,Y as Q,C as X,Z as we,y as Se,A as Ne,z as Oe,_ as je,$ as ye}from"../chunks/vendor-cce9f310.js";import{i as j}from"../chunks/stores-befe408a.js";import{a as Ce}from"../chunks/api-5c0c9630.js";import{p as Ae}from"../chunks/post-5b27026c.js";import{g as Ke}from"../chunks/navigation-51f4a605.js";import{s as Y,n as Te,p as Ee}from"../chunks/stores-83bcb05a.js";import"../chunks/singletons-12a22614.js";function Ie(i){let n,r,e,t;const s=[i[3]];function a(f){i[4](f)}function l(f){i[5](f)}let d={};for(let f=0;f<s.length;f+=1)d=W(d,s[f]);return i[0]!==void 0&&(d.href=i[0]),i[1]!==void 0&&(d.text=i[1]),n=new ae({props:d}),y.push(()=>C(n,"href",a)),y.push(()=>C(n,"text",l)),n.$on("click",i[6]),n.$on("click",i[2]),{c(){h(n.$$.fragment)},l(f){k(n.$$.fragment,f)},m(f,$){b(n,f,$),t=!0},p(f,[$]){const w=$&8?le(s,[fe(f[3])]):{};!r&&$&1&&(r=!0,w.href=f[0],A(()=>r=!1)),!e&&$&2&&(e=!0,w.text=f[1],A(()=>e=!1)),n.$set(w)},i(f){t||(c(n.$$.fragment,f),t=!0)},o(f){p(n.$$.fragment,f),t=!1},d(f){v(n,f)}}}function Ve(i,n,r){const e=["href","text"];let t=F(n,e),s;K(i,j,_=>r(7,s=_));let{href:a=""}=n,{text:l=""}=n;const d=()=>{q(j,s=!1,s)};function f(_){a=_,r(0,a)}function $(_){l=_,r(1,l)}function w(_){ue.call(this,i,_)}return i.$$set=_=>{n=W(W({},n),oe(_)),r(3,t=F(n,e)),"href"in _&&r(0,a=_.href),"text"in _&&r(1,l=_.text)},[a,l,d,t,f,$,w]}class P extends I{constructor(n){super();V(this,n,Ve,Ie,D,{href:0,text:1})}}function De(i){for(var n="=".repeat((4-i.length%4)%4),r=(i+n).replace(/\-/g,"+").replace(/_/g,"/"),e=window.atob(r),t=new Uint8Array(e.length),s=0;s<e.length;++s)t[s]=e.charCodeAt(s);return t}const{window:Z}=_e;function x(i){let n,r;return n=new ve({}),{c(){h(n.$$.fragment)},l(e){k(n.$$.fragment,e)},m(e,t){b(n,e,t),r=!0},i(e){r||(c(n.$$.fragment,e),r=!0)},o(e){p(n.$$.fragment,e),r=!1},d(e){v(n,e)}}}function He(i){let n,r,e=i[4]&&x();return{c(){e&&e.c(),n=H()},l(t){e&&e.l(t),n=H()},m(t,s){e&&e.m(t,s),O(t,n,s),r=!0},p(t,s){t[4]?e?s&16&&c(e,1):(e=x(),e.c(),c(e,1),e.m(n.parentNode,n)):e&&(L(),p(e,1,1,()=>{e=null}),M())},i(t){r||(c(e),r=!0)},o(t){p(e),r=!1},d(t){e&&e.d(t),t&&N(n)}}}function Le(i){let n,r,e;return r=new de({}),{c(){n=$e("div"),h(r.$$.fragment),this.h()},l(t){n=ge(t,"DIV",{slot:!0});var s=he(n);k(r.$$.fragment,s),s.forEach(N),this.h()},h(){ke(n,"slot","skip-to-content")},m(t,s){O(t,n,s),b(r,n,null),e=!0},i(t){e||(c(r.$$.fragment,t),e=!0)},o(t){p(r.$$.fragment,t),e=!1},d(t){t&&N(n),v(r)}}}function ee(i){let n,r,e,t=i[0]&&te(i);return r=new P({props:{isSelected:i[5].path.split("/")[1]=="login",text:"Login",href:"/login"}}),{c(){t&&t.c(),n=T(),h(r.$$.fragment)},l(s){t&&t.l(s),n=E(s),k(r.$$.fragment,s)},m(s,a){t&&t.m(s,a),O(s,n,a),b(r,s,a),e=!0},p(s,a){s[0]?t?(t.p(s,a),a&1&&c(t,1)):(t=te(s),t.c(),c(t,1),t.m(n.parentNode,n)):t&&(L(),p(t,1,1,()=>{t=null}),M());const l={};a&32&&(l.isSelected=s[5].path.split("/")[1]=="login"),r.$set(l)},i(s){e||(c(t),c(r.$$.fragment,s),e=!0)},o(s){p(t),p(r.$$.fragment,s),e=!1},d(s){t&&t.d(s),s&&N(n),v(r,s)}}}function te(i){let n,r,e;function t(a){i[11](a)}let s={href:"",text:"Add To Homescreen"};return i[1]!==void 0&&(s.ref=i[1]),n=new P({props:s}),y.push(()=>C(n,"ref",t)),n.$on("click",i[8]),{c(){h(n.$$.fragment)},l(a){k(n.$$.fragment,a)},m(a,l){b(n,a,l),e=!0},p(a,l){const d={};!r&&l&2&&(r=!0,d.ref=a[1],A(()=>r=!1)),n.$set(d)},i(a){e||(c(n.$$.fragment,a),e=!0)},o(a){p(n.$$.fragment,a),e=!1},d(a){v(n,a)}}}function ne(i){let n,r,e,t;return n=new P({props:{isSelected:i[5].path.split("/")[1]=="edit",href:"/edit",text:"Edit"}}),e=new P({props:{text:"Exit",href:""}}),e.$on("click",i[9]),{c(){h(n.$$.fragment),r=T(),h(e.$$.fragment)},l(s){k(n.$$.fragment,s),r=E(s),k(e.$$.fragment,s)},m(s,a){b(n,s,a),O(s,r,a),b(e,s,a),t=!0},p(s,a){const l={};a&32&&(l.isSelected=s[5].path.split("/")[1]=="edit"),n.$set(l)},i(s){t||(c(n.$$.fragment,s),c(e.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),p(e.$$.fragment,s),t=!1},d(s){v(n,s),s&&N(r),v(e,s)}}}function Me(i){let n,r,e,t=!i[2].user&&ee(i),s=i[2].user&&ne(i);return{c(){t&&t.c(),n=T(),s&&s.c(),r=H()},l(a){t&&t.l(a),n=E(a),s&&s.l(a),r=H()},m(a,l){t&&t.m(a,l),O(a,n,l),s&&s.m(a,l),O(a,r,l),e=!0},p(a,l){a[2].user?t&&(L(),p(t,1,1,()=>{t=null}),M()):t?(t.p(a,l),l&4&&c(t,1)):(t=ee(a),t.c(),c(t,1),t.m(n.parentNode,n)),a[2].user?s?(s.p(a,l),l&4&&c(s,1)):(s=ne(a),s.c(),c(s,1),s.m(r.parentNode,r)):s&&(L(),p(s,1,1,()=>{s=null}),M())},i(a){e||(c(t),c(s),e=!0)},o(a){p(t),p(s),e=!1},d(a){t&&t.d(a),a&&N(n),s&&s.d(a),a&&N(r)}}}function Pe(i){let n,r;return n=new be({props:{$$slots:{default:[Me]},$$scope:{ctx:i}}}),{c(){h(n.$$.fragment)},l(e){k(n.$$.fragment,e)},m(e,t){b(n,e,t),r=!0},p(e,t){const s={};t&32807&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){r||(c(n.$$.fragment,e),r=!0)},o(e){p(n.$$.fragment,e),r=!1},d(e){v(n,e)}}}function Ue(i){let n,r,e,t,s,a,l,d;function f(u){i[10](u)}let $={persistentHamburgerMenu:!0,company:"Apexlinks",platFormName:"",href:"/",$$slots:{"skip-to-content":[Le],default:[He]},$$scope:{ctx:i}};i[3]!==void 0&&($.isSideNavOpen=i[3]),n=new ce({props:$}),y.push(()=>C(n,"isSideNavOpen",f));function w(u){i[12](u)}let _={$$slots:{default:[Pe]},$$scope:{ctx:i}};return i[3]!==void 0&&(_.isOpen=i[3]),t=new pe({props:_}),y.push(()=>C(t,"isOpen",w)),{c(){h(n.$$.fragment),e=T(),h(t.$$.fragment)},l(u){k(n.$$.fragment,u),e=E(u),k(t.$$.fragment,u)},m(u,g){b(n,u,g),O(u,e,g),b(t,u,g),a=!0,l||(d=[G(Z,"appinstalled",i[6]),G(Z,"beforeinstallprompt",i[7])],l=!0)},p(u,[g]){const S={};g&32784&&(S.$$scope={dirty:g,ctx:u}),!r&&g&8&&(r=!0,S.isSideNavOpen=u[3],A(()=>r=!1)),n.$set(S);const o={};g&32807&&(o.$$scope={dirty:g,ctx:u}),!s&&g&8&&(s=!0,o.isOpen=u[3],A(()=>s=!1)),t.$set(o)},i(u){a||(c(n.$$.fragment,u),c(t.$$.fragment,u),a=!0)},o(u){p(n.$$.fragment,u),p(t.$$.fragment,u),a=!1},d(u){v(n,u),u&&N(e),v(t,u),l=!1,me(d)}}}function We(i,n,r){let e,t,s,a;K(i,Y,m=>r(2,e=m)),K(i,j,m=>r(3,t=m)),K(i,Te,m=>r(4,s=m)),K(i,Ee,m=>r(5,a=m));let l,d,f;q(j,t=!1,t);const $=()=>{r(0,l=!1)},w=m=>{r(0,l=!0),m.preventDefault(),f=m},_=()=>{f.prompt(),f.userChoice.then(m=>{m.outcome==="accepted"&&r(0,l=!1)})},u=()=>{navigator.serviceWorker.ready.then(m=>m.pushManager.getSubscription().then(async B=>{if(B)return B;const se=await(await fetch("get")).text();let re=De(se);const ie={userVisibleOnly:!0,applicationServerKey:re};return m.pushManager.subscribe(ie)})).then(m=>{Ce.post("subs",{id:e.user.id,sub:m})})};typeof window!="undefined"&&navigator&&navigator.serviceWorker&&e.user&&u();const g=()=>{q(Y,e.user=null,e),Ae("/auth/exit"),Ke("/login")};function S(m){t=m,j.set(t)}function o(m){d=m,r(1,d)}function U(m){t=m,j.set(t)}return[l,d,e,t,s,a,$,w,_,g,S,o,U]}class qe extends I{constructor(n){super();V(this,n,We,Ue,D,{})}}function Be(i){let n;const r=i[5].default,e=J(r,i,i[4],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),n=!0},p(t,[s]){e&&e.p&&(!n||s&16)&&R(e,r,t,t[4],n?Q(r,t[4],s,null):z(t[4]),null)},i(t){n||(c(e,t),n=!0)},o(t){p(e,t),n=!1},d(t){e&&e.d(t)}}}function Fe(i,n,r){let{$$slots:e={},$$scope:t}=n,{persist:s=!1}=n,{persistKey:a="theme"}=n,{theme:l="white"}=n;const d=["white","g10","g90","g100"],f=o=>d.includes(o),$=o=>f(o)&&(o==="g90"||o==="g100"),w=X(l),_=X($(l)),u=we(_,o=>!o),g=w.subscribe(o=>{r(0,l=o)});let S=null;return Se("Theme",{updateVar:(o,U)=>{S!=null&&S.documentElement.style.setProperty(o,U)},carbon_theme:w,dark:_,light:u}),Ne(()=>{S=window.document;try{const o=localStorage.getItem(a);f(o)&&w.set(o)}catch(o){console.error(o)}return()=>{g()}}),Oe(()=>{f(l)?(S!=null&&S.documentElement.setAttribute("theme",l),s&&localStorage.setItem(a,l)):console.warn(`"${l}" is not a valid Carbon theme. Choose from available themes: ${JSON.stringify(d)}`)}),i.$$set=o=>{"persist"in o&&r(1,s=o.persist),"persistKey"in o&&r(2,a=o.persistKey),"theme"in o&&r(0,l=o.theme),"$$scope"in o&&r(4,t=o.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&_.set($(l))},[l,s,a,d,t,e]}class Ge extends I{constructor(n){super();V(this,n,Fe,Be,D,{persist:1,persistKey:2,theme:0,themes:3})}get themes(){return this.$$.ctx[3]}}function Je(i){let n;const r=i[0].default,e=J(r,i,i[1],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),n=!0},p(t,s){e&&e.p&&(!n||s&2)&&R(e,r,t,t[1],n?Q(r,t[1],s,null):z(t[1]),null)},i(t){n||(c(e,t),n=!0)},o(t){p(e,t),n=!1},d(t){e&&e.d(t)}}}function Re(i){let n,r;return n=new ye({props:{$$slots:{default:[Je]},$$scope:{ctx:i}}}),{c(){h(n.$$.fragment)},l(e){k(n.$$.fragment,e)},m(e,t){b(n,e,t),r=!0},p(e,t){const s={};t&2&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){r||(c(n.$$.fragment,e),r=!0)},o(e){p(n.$$.fragment,e),r=!1},d(e){v(n,e)}}}function ze(i){let n,r,e,t;return n=new qe({}),e=new je({props:{style:"background: none; padding: 1rem",$$slots:{default:[Re]},$$scope:{ctx:i}}}),{c(){h(n.$$.fragment),r=T(),h(e.$$.fragment)},l(s){k(n.$$.fragment,s),r=E(s),k(e.$$.fragment,s)},m(s,a){b(n,s,a),O(s,r,a),b(e,s,a),t=!0},p(s,a){const l={};a&2&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(c(n.$$.fragment,s),c(e.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),p(e.$$.fragment,s),t=!1},d(s){v(n,s),s&&N(r),v(e,s)}}}function Qe(i){let n,r;return n=new Ge({props:{persist:!0,theme:"g10",$$slots:{default:[ze]},$$scope:{ctx:i}}}),{c(){h(n.$$.fragment)},l(e){k(n.$$.fragment,e)},m(e,t){b(n,e,t),r=!0},p(e,[t]){const s={};t&2&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){r||(c(n.$$.fragment,e),r=!0)},o(e){p(n.$$.fragment,e),r=!1},d(e){v(n,e)}}}function Xe(i,n,r){let{$$slots:e={},$$scope:t}=n;return i.$$set=s=>{"$$scope"in s&&r(1,t=s.$$scope)},[e,t]}class it extends I{constructor(n){super();V(this,n,Xe,Qe,D,{})}}export{it as default};
