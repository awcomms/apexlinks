import{S as h,i as T,s as k,w as $,x as u,y as c,q as m,o as l,B as p,W as S,_ as B,k as C,m as E,g as b,Y as q,d as x,t as K,h as O}from"../../../chunks/index-e47b4649.js";import{a as w}from"../../../chunks/socket-359f452a.js";import"../../../chunks/HeaderSearch.svelte_svelte_type_style_lang-dee62dc9.js";import{B as R}from"../../../chunks/Button-bbcf2e94.js";import{R as U}from"../../../chunks/Row-c4df0ce6.js";import{C as v}from"../../../chunks/Column-5e525297.js";import{T as A}from"../../../chunks/Tags-072a8ed0.js";import"../../../chunks/index-8107d937.js";import"../../../chunks/Tag-473639f3.js";import"../../../chunks/Close-b8ee64fe.js";/* empty css                                                         */function G(o){let e;return{c(){e=K("Edit")},l(n){e=O(n,"Edit")},m(n,t){b(n,e,t)},d(n){n&&x(e)}}}function N(o){let e,n,t,r,a;function _(s){o[3](s)}let f={};return o[0]!==void 0&&(f.tags=o[0]),e=new A({props:f}),S.push(()=>B(e,"tags",_)),r=new R({props:{$$slots:{default:[G]},$$scope:{ctx:o}}}),r.$on("click",o[1]),{c(){$(e.$$.fragment),t=C(),$(r.$$.fragment)},l(s){u(e.$$.fragment,s),t=E(s),u(r.$$.fragment,s)},m(s,i){c(e,s,i),b(s,t,i),c(r,s,i),a=!0},p(s,i){const g={};!n&&i&1&&(n=!0,g.tags=s[0],q(()=>n=!1)),e.$set(g);const d={};i&32&&(d.$$scope={dirty:i,ctx:s}),r.$set(d)},i(s){a||(m(e.$$.fragment,s),m(r.$$.fragment,s),a=!0)},o(s){l(e.$$.fragment,s),l(r.$$.fragment,s),a=!1},d(s){p(e,s),s&&x(t),p(r,s)}}}function P(o){let e,n;return e=new v({props:{$$slots:{default:[N]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment)},l(t){u(e.$$.fragment,t)},m(t,r){c(e,t,r),n=!0},p(t,r){const a={};r&33&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){l(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}function W(o){let e,n;return e=new U({props:{noGutter:!0,$$slots:{default:[P]},$$scope:{ctx:o}}}),{c(){$(e.$$.fragment)},l(t){u(e.$$.fragment,t)},m(t,r){c(e,t,r),n=!0},p(t,[r]){const a={};r&33&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){l(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}const V=async({params:o,fetch:e})=>{const{id:n}=o,t=w.get(`txts/${n}`,e);return t.OK?{props:{txt:t}}:{error:t.error,status:Number(t.STATUS)}};function Y(o,e,n){let{txt:t}=e,{tags:r,about:a}=t;const _=()=>{const s=w.put("txts",{tags:r,about:a});s.OK||console.log("txt PUT res: ",s),goto(`${routes.txts}/${t.id}`)};function f(s){r=s,n(0,r)}return o.$$set=s=>{"txt"in s&&n(2,t=s.txt)},[r,_,t,f]}class X extends h{constructor(e){super(),T(this,e,Y,W,k,{txt:2})}}export{X as default,V as load};
