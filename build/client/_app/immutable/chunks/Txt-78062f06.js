import{S as ee,i as te,s as ne,M as de,C as y,e as G,c as I,a as D,d as m,N as re,R as q,g as b,O as ge,P as he,Q as be,z as ke,q as d,o as h,K as fe,L as ve,w as v,x as w,b as B,y as T,B as E,Z as we,V as Te,l as z,n as M,p as A,W as K,_ as O,Y as Q,t as L,h as N,H as C,T as le,J as me,k as R,m as S,a8 as Ee,$ as Pe,v as Ge,j as H}from"./index-e47b4649.js";import{a as oe,s as Ie}from"./socket-359f452a.js";import{r as j}from"./routes-fb6e9fa0.js";import{g as Le}from"./navigation-0e6511d1.js";import{s as Ne}from"./stores-4f4e660a.js";import{L as W}from"./Link-3fffe52b.js";import"./HeaderSearch.svelte_svelte_type_style_lang-dee62dc9.js";import{R as Y}from"./Row-c4df0ce6.js";import{C as Z}from"./Column-5e525297.js";import{T as De}from"./TextInput-439d1c85.js";/* empty css                                           */function Ve(r){let e,n;const t=r[3].default,s=de(t,r,r[2],null);let l=[r[1]],o={};for(let u=0;u<l.length;u+=1)o=y(o,l[u]);return{c(){e=G("p"),s&&s.c(),this.h()},l(u){e=I(u,"P",{});var f=D(e);s&&s.l(f),f.forEach(m),this.h()},h(){re(e,o),q(e,"bx--text-truncate--end",r[0]==="end"),q(e,"bx--text-truncate--front",r[0]==="front")},m(u,f){b(u,e,f),s&&s.m(e,null),n=!0},p(u,[f]){s&&s.p&&(!n||f&4)&&ge(s,t,u,u[2],n?be(t,u[2],f,null):he(u[2]),null),re(e,o=ke(l,[f&2&&u[1]])),q(e,"bx--text-truncate--end",u[0]==="end"),q(e,"bx--text-truncate--front",u[0]==="front")},i(u){n||(d(s,u),n=!0)},o(u){h(s,u),n=!1},d(u){u&&m(e),s&&s.d(u)}}}function Ce(r,e,n){const t=["clamp"];let s=fe(e,t),{$$slots:l={},$$scope:o}=e,{clamp:u="end"}=e;return r.$$set=f=>{e=y(y({},e),ve(f)),n(1,s=fe(e,t)),"clamp"in f&&n(0,u=f.clamp),"$$scope"in f&&n(2,o=f.$$scope)},[u,s,o,l]}class $e extends ee{constructor(e){super(),te(this,e,Ce,Ve,ne,{clamp:0})}}function Re(r){let e,n,t;return n=new W({props:{href:j.login,$$slots:{default:[je]},$$scope:{ctx:r}}}),{c(){e=G("div"),v(n.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var l=D(e);w(n.$$.fragment,l),l.forEach(m),this.h()},h(){B(e,"class","login-prompt")},m(s,l){b(s,e,l),T(n,e,null),t=!0},p(s,l){const o={};l&64&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){t||(d(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&m(e),E(n)}}}function Se(r){let e,n,t,s;function l(f){r[3](f)}function o(f){r[4](f)}let u={rows:2};return r[0]!==void 0&&(u.ref=r[0]),r[1]!==void 0&&(u.value=r[1]),e=new De({props:u}),K.push(()=>O(e,"ref",l)),K.push(()=>O(e,"value",o)),e.$on("keydown",r[5]),{c(){v(e.$$.fragment)},l(f){w(e.$$.fragment,f)},m(f,i){T(e,f,i),s=!0},p(f,i){const _={};!n&&i&1&&(n=!0,_.ref=f[0],Q(()=>n=!1)),!t&&i&2&&(t=!0,_.value=f[1],Q(()=>t=!1)),e.$set(_)},i(f){s||(d(e.$$.fragment,f),s=!0)},o(f){h(e.$$.fragment,f),s=!1},d(f){E(e,f)}}}function je(r){let e;return{c(){e=L("Login to send txts to this txt")},l(n){e=N(n,"Login to send txts to this txt")},m(n,t){b(n,e,t)},d(n){n&&m(e)}}}function Be(r){let e,n,t,s;const l=[Se,Re],o=[];function u(f,i){return f[2].user?0:1}return e=u(r),n=o[e]=l[e](r),{c(){n.c(),t=z()},l(f){n.l(f),t=z()},m(f,i){o[e].m(f,i),b(f,t,i),s=!0},p(f,i){let _=e;e=u(f),e===_?o[e].p(f,i):(M(),h(o[_],1,1,()=>{o[_]=null}),A(),n=o[e],n?n.p(f,i):(n=o[e]=l[e](f),n.c()),d(n,1),n.m(t.parentNode,t))},i(f){s||(d(n),s=!0)},o(f){h(n),s=!1},d(f){o[e].d(f),f&&m(t)}}}function He(r){let e,n;return e=new Z({props:{$$slots:{default:[Be]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&71&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Je(r){let e,n,t;return n=new Y({props:{noGutter:!0,$$slots:{default:[He]},$$scope:{ctx:r}}}),{c(){e=G("div"),v(n.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var l=D(e);w(n.$$.fragment,l),l.forEach(m),this.h()},h(){B(e,"class","input")},m(s,l){b(s,e,l),T(n,e,null),t=!0},p(s,[l]){const o={};l&71&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){t||(d(n.$$.fragment,s),t=!0)},o(s){h(n.$$.fragment,s),t=!1},d(s){s&&m(e),E(n)}}}function qe(r,e,n){let t;we(r,Ne,i=>n(2,t=i));let{ref:s,value:l=""}=e;function o(i){s=i,n(0,s)}function u(i){l=i,n(1,l)}function f(i){Te.call(this,r,i)}return r.$$set=i=>{"ref"in i&&n(0,s=i.ref),"value"in i&&n(1,l=i.value)},[s,l,t,o,u,f]}class ze extends ee{constructor(e){super(),te(this,e,qe,Je,ne,{ref:0,value:1})}}function ue(r,e,n){const t=r.slice();return t[18]=e[n],t}function ae(r){let e,n;return e=new W({props:{href:j.txts+"/"+r[3].id+"/about",$$slots:{default:[Ae]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&8&&(l.href=j.txts+"/"+t[3].id+"/about"),s&2097156&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Me(r){let e;return{c(){e=L(r[2])},l(n){e=N(n,r[2])},m(n,t){b(n,e,t)},p(n,t){t&4&&H(e,n[2])},d(n){n&&m(e)}}}function Ae(r){let e,n;return e=new $e({props:{clamp:"end",$$slots:{default:[Me]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&2097156&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function ie(r){let e;function n(l,o){return l[3].joined?Oe:Ke}let t=n(r),s=t(r);return{c(){s.c(),e=z()},l(l){s.l(l),e=z()},m(l,o){s.m(l,o),b(l,e,o)},p(l,o){t===(t=n(l))&&s?s.p(l,o):(s.d(1),s=t(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&m(e)}}}function Ke(r){let e,n,t,s;return{c(){e=G("p"),n=L("Join this txt"),this.h()},l(l){e=I(l,"P",{class:!0});var o=D(e);n=N(o,"Join this txt"),o.forEach(m),this.h()},h(){B(e,"class","pointer svelte-1ues56k")},m(l,o){b(l,e,o),C(e,n),t||(s=le(e,"click",r[13]),t=!0)},p:me,d(l){l&&m(e),t=!1,s()}}}function Oe(r){let e,n,t,s;return{c(){e=G("p"),n=L(r[4]),this.h()},l(l){e=I(l,"P",{class:!0});var o=D(e);n=N(o,r[4]),o.forEach(m),this.h()},h(){B(e,"class","pointer svelte-1ues56k")},m(l,o){b(l,e,o),C(e,n),t||(s=le(e,"click",r[9]),t=!0)},p(l,o){o&16&&H(n,l[4])},d(l){l&&m(e),t=!1,s()}}}function Qe(r){let e,n,t,s,l,o,u,f=r[2]&&ae(r),i=r[3]&&ie(r);return{c(){e=G("span"),f&&f.c(),n=R(),i&&i.c(),t=R(),s=G("br"),l=R(),o=G("div"),this.h()},l(_){e=I(_,"SPAN",{});var c=D(e);f&&f.l(c),n=S(c),i&&i.l(c),t=S(c),s=I(c,"BR",{}),c.forEach(m),l=S(_),o=I(_,"DIV",{class:!0}),D(o).forEach(m),this.h()},h(){B(o,"class","head-space svelte-1ues56k")},m(_,c){b(_,e,c),f&&f.m(e,null),C(e,n),i&&i.m(e,null),C(e,t),C(e,s),b(_,l,c),b(_,o,c),u=!0},p(_,c){_[2]?f?(f.p(_,c),c&4&&d(f,1)):(f=ae(_),f.c(),d(f,1),f.m(e,n)):f&&(M(),h(f,1,1,()=>{f=null}),A()),_[3]?i?i.p(_,c):(i=ie(_),i.c(),i.m(e,t)):i&&(i.d(1),i=null)},i(_){u||(d(f),u=!0)},o(_){h(f),u=!1},d(_){_&&m(e),f&&f.d(),i&&i.d(),_&&m(l),_&&m(o)}}}function We(r){let e,n;return e=new Z({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&2097180&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function ce(r){let e,n;return e=new Y({props:{noGutter:!0,$$slots:{default:[Fe]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&2097160&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Ye(r){let e,n=r[3].id+"",t,s,l=r[3].value+"",o;return{c(){e=L("txt "),t=L(n),s=L(": "),o=L(l)},l(u){e=N(u,"txt "),t=N(u,n),s=N(u,": "),o=N(u,l)},m(u,f){b(u,e,f),b(u,t,f),b(u,s,f),b(u,o,f)},p(u,f){f&8&&n!==(n=u[3].id+"")&&H(t,n),f&8&&l!==(l=u[3].value+"")&&H(o,l)},d(u){u&&m(e),u&&m(t),u&&m(s),u&&m(o)}}}function Ze(r){let e,n;return e=new $e({props:{$$slots:{default:[Ye]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&2097160&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function Fe(r){let e,n;return e=new Z({props:{$$slots:{default:[Ze]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&2097160&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function _e(r){let e,n,t,s;return{c(){e=G("p"),n=L("Get older txts")},l(l){e=I(l,"P",{});var o=D(e);n=N(o,"Get older txts"),o.forEach(m)},m(l,o){b(l,e,o),C(e,n),t||(s=le(e,"click",r[10]),t=!0)},p:me,d(l){l&&m(e),t=!1,s()}}}function Ue(r){var s;let e,n=((s=r[18].user)==null?void 0:s.username)+"",t;return{c(){e=G("p"),t=L(n),this.h()},l(l){e=I(l,"P",{class:!0});var o=D(e);t=N(o,n),o.forEach(m),this.h()},h(){B(e,"class","small pointer svelte-1ues56k")},m(l,o){b(l,e,o),C(e,t)},p(l,o){var u;o&2&&n!==(n=((u=l[18].user)==null?void 0:u.username)+"")&&H(t,n)},d(l){l&&m(e)}}}function Xe(r){let e,n=r[18].value+"",t;return{c(){e=G("p"),t=L(n)},l(s){e=I(s,"P",{});var l=D(e);t=N(l,n),l.forEach(m)},m(s,l){b(s,e,l),C(e,t)},p(s,l){l&2&&n!==(n=s[18].value+"")&&H(t,n)},d(s){s&&m(e)}}}function xe(r){let e,n,t,s;return e=new W({props:{href:j.users+"/"+r[18].user.id,$$slots:{default:[Ue]},$$scope:{ctx:r}}}),t=new W({props:{href:j.txts+"/"+r[18].id,$$slots:{default:[Xe]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment),n=R(),v(t.$$.fragment)},l(l){w(e.$$.fragment,l),n=S(l),w(t.$$.fragment,l)},m(l,o){T(e,l,o),b(l,n,o),T(t,l,o),s=!0},p(l,o){const u={};o&2&&(u.href=j.users+"/"+l[18].user.id),o&2097154&&(u.$$scope={dirty:o,ctx:l}),e.$set(u);const f={};o&2&&(f.href=j.txts+"/"+l[18].id),o&2097154&&(f.$$scope={dirty:o,ctx:l}),t.$set(f)},i(l){s||(d(e.$$.fragment,l),d(t.$$.fragment,l),s=!0)},o(l){h(e.$$.fragment,l),h(t.$$.fragment,l),s=!1},d(l){E(e,l),l&&m(n),E(t,l)}}}function ye(r){let e,n;return e=new Z({props:{$$slots:{default:[xe]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&2097154&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function pe(r){let e,n;return e=new Y({props:{noGutter:!0,$$slots:{default:[ye]},$$scope:{ctx:r}}}),{c(){v(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,s){T(e,t,s),n=!0},p(t,s){const l={};s&2097154&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){n||(d(e.$$.fragment,t),n=!0)},o(t){h(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function et(r){let e,n,t,s,l,o,u,f,i,_;e=new Y({props:{noGutter:!0,$$slots:{default:[We]},$$scope:{ctx:r}}});let c=r[3]&&ce(r),k=r[0]>1&&_e(r),V=r[1],g=[];for(let a=0;a<V.length;a+=1)g[a]=pe(ue(r,V,a));const F=a=>h(g[a],1,1,()=>{g[a]=null});function U(a){r[14](a)}function X(a){r[15](a)}let J={};return r[5]!==void 0&&(J.value=r[5]),r[6]!==void 0&&(J.ref=r[6]),u=new ze({props:J}),K.push(()=>O(u,"value",U)),K.push(()=>O(u,"ref",X)),u.$on("keydown",r[8]),{c(){v(e.$$.fragment),n=R(),c&&c.c(),t=R(),k&&k.c(),s=R(),l=G("div");for(let a=0;a<g.length;a+=1)g[a].c();o=R(),v(u.$$.fragment),this.h()},l(a){w(e.$$.fragment,a),n=S(a),c&&c.l(a),t=S(a),k&&k.l(a),s=S(a),l=I(a,"DIV",{class:!0});var $=D(l);for(let p=0;p<g.length;p+=1)g[p].l($);o=S($),w(u.$$.fragment,$),$.forEach(m),this.h()},h(){B(l,"class","con")},m(a,$){T(e,a,$),b(a,n,$),c&&c.m(a,$),b(a,t,$),k&&k.m(a,$),b(a,s,$),b(a,l,$);for(let p=0;p<g.length;p+=1)g[p].m(l,null);C(l,o),T(u,l,null),_=!0},p(a,[$]){const p={};if($&2097180&&(p.$$scope={dirty:$,ctx:a}),e.$set(p),a[3]?c?(c.p(a,$),$&8&&d(c,1)):(c=ce(a),c.c(),d(c,1),c.m(t.parentNode,t)):c&&(M(),h(c,1,1,()=>{c=null}),A()),a[0]>1?k?k.p(a,$):(k=_e(a),k.c(),k.m(s.parentNode,s)):k&&(k.d(1),k=null),$&2){V=a[1];let P;for(P=0;P<V.length;P+=1){const se=ue(a,V,P);g[P]?(g[P].p(se,$),d(g[P],1)):(g[P]=pe(se),g[P].c(),d(g[P],1),g[P].m(l,o))}for(M(),P=V.length;P<g.length;P+=1)F(P);A()}const x={};!f&&$&32&&(f=!0,x.value=a[5],Q(()=>f=!1)),!i&&$&64&&(i=!0,x.ref=a[6],Q(()=>i=!1)),u.$set(x)},i(a){if(!_){d(e.$$.fragment,a),d(c);for(let $=0;$<V.length;$+=1)d(g[$]);d(u.$$.fragment,a),_=!0}},o(a){h(e.$$.fragment,a),h(c),g=g.filter(Boolean);for(let $=0;$<g.length;$+=1)h(g[$]);h(u.$$.fragment,a),_=!1},d(a){E(e,a),a&&m(n),c&&c.d(a),a&&m(t),k&&k.d(a),a&&m(s),a&&m(l),Ee(g,a),E(u)}}}function tt(r,e,n){let{title:t,add:s,page:l,pages:o,txt:u,items:f,leaveText:i="Leave txt"}=e;const _=Pe();let c,k;Ge(()=>{window.scrollTo({left:0,top:document.body.scrollHeight}),k.focus()});const V=p=>{switch(p.key){case"Enter":U()}},g=async()=>{await oe.put(`leave/${u.id}`),Ie.emit("leave",u.id),Le(j.txts)},F=async()=>{await oe.get(`txts?page=${l-1}`).then(p=>{n(11,l=p.page),n(0,o=p.pages),n(1,f=[p.items,...f])})},U=()=>{!c||(_("send",c),n(5,c=""))},X=()=>{setTimeout(()=>{window.scrollTo({left:0,top:document.body.scrollHeight})},0)},J=()=>_("join");function a(p){c=p,n(5,c)}function $(p){k=p,n(6,k)}return r.$$set=p=>{"title"in p&&n(2,t=p.title),"add"in p&&n(12,s=p.add),"page"in p&&n(11,l=p.page),"pages"in p&&n(0,o=p.pages),"txt"in p&&n(3,u=p.txt),"items"in p&&n(1,f=p.items),"leaveText"in p&&n(4,i=p.leaveText)},r.$$.update=()=>{r.$$.dirty&4096&&X()},[o,f,t,u,i,c,k,_,V,g,F,l,s,J,a,$]}class pt extends ee{constructor(e){super(),te(this,e,tt,et,ne,{title:2,add:12,page:11,pages:0,txt:3,items:1,leaveText:4})}}export{pt as T};
