import{S as te,i as le,s as ne,O as de,C as x,e as E,c as T,a as C,d as p,P as se,U as A,g,Q as he,R as ge,T as ve,z as be,q as h,o as k,M as re,N as ke,w as z,x as q,b as j,y as P,B as G,_ as we,W as Ee,l as K,n as O,p as Q,X as U,$ as W,Z as X,t as D,h as N,K as L,V as B,E as me,k as R,m as S,a9 as Te,a0 as ze,v as qe,j as H,G as Pe}from"./index-3c306420.js";import{a as fe,s as Ge}from"./socket-359f452a.js";import{r as ee}from"./routes-fb6e9fa0.js";import{g as ie}from"./navigation-0e6511d1.js";import{s as Ie}from"./stores-60fbd2b2.js";import{L as Ce}from"./Link-ebc57634.js";import"./HeaderSearch.svelte_svelte_type_style_lang-47ee749e.js";import{R as Z}from"./Row-ee11b4a3.js";import{C as y}from"./Column-0c866349.js";import{T as De}from"./TextInput-78434c7c.js";/* empty css                                           */function Ne(r){let e,l;const t=r[3].default,n=de(t,r,r[2],null);let s=[r[1]],i={};for(let o=0;o<s.length;o+=1)i=x(i,s[o]);return{c(){e=E("p"),n&&n.c(),this.h()},l(o){e=T(o,"P",{});var f=C(e);n&&n.l(f),f.forEach(p),this.h()},h(){se(e,i),A(e,"bx--text-truncate--end",r[0]==="end"),A(e,"bx--text-truncate--front",r[0]==="front")},m(o,f){g(o,e,f),n&&n.m(e,null),l=!0},p(o,[f]){n&&n.p&&(!l||f&4)&&he(n,t,o,o[2],l?ve(t,o[2],f,null):ge(o[2]),null),se(e,i=be(s,[f&2&&o[1]])),A(e,"bx--text-truncate--end",o[0]==="end"),A(e,"bx--text-truncate--front",o[0]==="front")},i(o){l||(h(n,o),l=!0)},o(o){k(n,o),l=!1},d(o){o&&p(e),n&&n.d(o)}}}function Ve(r,e,l){const t=["clamp"];let n=re(e,t),{$$slots:s={},$$scope:i}=e,{clamp:o="end"}=e;return r.$$set=f=>{e=x(x({},e),ke(f)),l(1,n=re(e,t)),"clamp"in f&&l(0,o=f.clamp),"$$scope"in f&&l(2,i=f.$$scope)},[o,n,i,s]}class $e extends te{constructor(e){super(),le(this,e,Ve,Ne,ne,{clamp:0})}}function Le(r){let e,l,t;return l=new Ce({props:{href:ee.login,$$slots:{default:[Se]},$$scope:{ctx:r}}}),{c(){e=E("div"),z(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var s=C(e);q(l.$$.fragment,s),s.forEach(p),this.h()},h(){j(e,"class","login-prompt")},m(n,s){g(n,e,s),P(l,e,null),t=!0},p(n,s){const i={};s&64&&(i.$$scope={dirty:s,ctx:n}),l.$set(i)},i(n){t||(h(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&p(e),G(l)}}}function Re(r){let e,l,t,n;function s(f){r[3](f)}function i(f){r[4](f)}let o={rows:2};return r[0]!==void 0&&(o.ref=r[0]),r[1]!==void 0&&(o.value=r[1]),e=new De({props:o}),U.push(()=>W(e,"ref",s)),U.push(()=>W(e,"value",i)),e.$on("keydown",r[5]),{c(){z(e.$$.fragment)},l(f){q(e.$$.fragment,f)},m(f,u){P(e,f,u),n=!0},p(f,u){const _={};!l&&u&1&&(l=!0,_.ref=f[0],X(()=>l=!1)),!t&&u&2&&(t=!0,_.value=f[1],X(()=>t=!1)),e.$set(_)},i(f){n||(h(e.$$.fragment,f),n=!0)},o(f){k(e.$$.fragment,f),n=!1},d(f){G(e,f)}}}function Se(r){let e;return{c(){e=D("Login to send txts to this txt")},l(l){e=N(l,"Login to send txts to this txt")},m(l,t){g(l,e,t)},d(l){l&&p(e)}}}function je(r){let e,l,t,n;const s=[Re,Le],i=[];function o(f,u){return f[2].user?0:1}return e=o(r),l=i[e]=s[e](r),{c(){l.c(),t=K()},l(f){l.l(f),t=K()},m(f,u){i[e].m(f,u),g(f,t,u),n=!0},p(f,u){let _=e;e=o(f),e===_?i[e].p(f,u):(O(),k(i[_],1,1,()=>{i[_]=null}),Q(),l=i[e],l?l.p(f,u):(l=i[e]=s[e](f),l.c()),h(l,1),l.m(t.parentNode,t))},i(f){n||(h(l),n=!0)},o(f){k(l),n=!1},d(f){i[e].d(f),f&&p(t)}}}function Be(r){let e,l;return e=new y({props:{$$slots:{default:[je]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&71&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function He(r){let e,l,t;return l=new Z({props:{noGutter:!0,$$slots:{default:[Be]},$$scope:{ctx:r}}}),{c(){e=E("div"),z(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var s=C(e);q(l.$$.fragment,s),s.forEach(p),this.h()},h(){j(e,"class","input")},m(n,s){g(n,e,s),P(l,e,null),t=!0},p(n,[s]){const i={};s&71&&(i.$$scope={dirty:s,ctx:n}),l.$set(i)},i(n){t||(h(l.$$.fragment,n),t=!0)},o(n){k(l.$$.fragment,n),t=!1},d(n){n&&p(e),G(l)}}}function Je(r,e,l){let t;we(r,Ie,u=>l(2,t=u));let{ref:n,value:s=""}=e;function i(u){n=u,l(0,n)}function o(u){s=u,l(1,s)}function f(u){Ee.call(this,r,u)}return r.$$set=u=>{"ref"in u&&l(0,n=u.ref),"value"in u&&l(1,s=u.value)},[n,s,t,i,o,f]}class Me extends te{constructor(e){super(),le(this,e,Je,He,ne,{ref:0,value:1})}}function oe(r,e,l){const t=r.slice();return t[21]=e[l],t}function ae(r){let e,l,t,n,s;return l=new $e({props:{clamp:"end",$$slots:{default:[Ae]},$$scope:{ctx:r}}}),{c(){e=E("div"),z(l.$$.fragment),this.h()},l(i){e=T(i,"DIV",{class:!0});var o=C(e);q(l.$$.fragment,o),o.forEach(p),this.h()},h(){j(e,"class","head svelte-1qevznt")},m(i,o){g(i,e,o),P(l,e,null),t=!0,n||(s=B(e,"click",r[13]),n=!0)},p(i,o){const f={};o&16777220&&(f.$$scope={dirty:o,ctx:i}),l.$set(f)},i(i){t||(h(l.$$.fragment,i),t=!0)},o(i){k(l.$$.fragment,i),t=!1},d(i){i&&p(e),G(l),n=!1,s()}}}function Ae(r){let e;return{c(){e=D(r[2])},l(l){e=N(l,r[2])},m(l,t){g(l,e,t)},p(l,t){t&4&&H(e,l[2])},d(l){l&&p(e)}}}function ue(r){let e;function l(s,i){return s[3].joined?Oe:Ke}let t=l(r),n=t(r);return{c(){n.c(),e=K()},l(s){n.l(s),e=K()},m(s,i){n.m(s,i),g(s,e,i)},p(s,i){t===(t=l(s))&&n?n.p(s,i):(n.d(1),n=t(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&p(e)}}}function Ke(r){let e,l,t,n;return{c(){e=E("p"),l=D("Join this txt"),this.h()},l(s){e=T(s,"P",{class:!0});var i=C(e);l=N(i,"Join this txt"),i.forEach(p),this.h()},h(){j(e,"class","pointer svelte-1qevznt")},m(s,i){g(s,e,i),L(e,l),t||(n=B(e,"click",r[14]),t=!0)},p:me,d(s){s&&p(e),t=!1,n()}}}function Oe(r){let e,l,t,n;return{c(){e=E("p"),l=D(r[4]),this.h()},l(s){e=T(s,"P",{class:!0});var i=C(e);l=N(i,r[4]),i.forEach(p),this.h()},h(){j(e,"class","pointer svelte-1qevznt")},m(s,i){g(s,e,i),L(e,l),t||(n=B(e,"click",r[9]),t=!0)},p(s,i){i&16&&H(l,s[4])},d(s){s&&p(e),t=!1,n()}}}function Qe(r){let e,l,t,n,s,i,o,f=r[2]&&ae(r),u=r[3]&&ue(r);return{c(){e=E("span"),f&&f.c(),l=R(),u&&u.c(),t=R(),n=E("br"),s=R(),i=E("div"),this.h()},l(_){e=T(_,"SPAN",{});var c=C(e);f&&f.l(c),l=S(c),u&&u.l(c),t=S(c),n=T(c,"BR",{}),c.forEach(p),s=S(_),i=T(_,"DIV",{class:!0}),C(i).forEach(p),this.h()},h(){j(i,"class","head-space svelte-1qevznt")},m(_,c){g(_,e,c),f&&f.m(e,null),L(e,l),u&&u.m(e,null),L(e,t),L(e,n),g(_,s,c),g(_,i,c),o=!0},p(_,c){_[2]?f?(f.p(_,c),c&4&&h(f,1)):(f=ae(_),f.c(),h(f,1),f.m(e,l)):f&&(O(),k(f,1,1,()=>{f=null}),Q()),_[3]?u?u.p(_,c):(u=ue(_),u.c(),u.m(e,t)):u&&(u.d(1),u=null)},i(_){o||(h(f),o=!0)},o(_){k(f),o=!1},d(_){_&&p(e),f&&f.d(),u&&u.d(),_&&p(s),_&&p(i)}}}function Ue(r){let e,l;return e=new y({props:{$$slots:{default:[Qe]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&16777244&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function ce(r){let e,l;return e=new Z({props:{noGutter:!0,$$slots:{default:[Ze]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&16777224&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function We(r){let e,l=r[3].id+"",t,n,s=r[3].value+"",i;return{c(){e=D("txt "),t=D(l),n=D(": "),i=D(s)},l(o){e=N(o,"txt "),t=N(o,l),n=N(o,": "),i=N(o,s)},m(o,f){g(o,e,f),g(o,t,f),g(o,n,f),g(o,i,f)},p(o,f){f&8&&l!==(l=o[3].id+"")&&H(t,l),f&8&&s!==(s=o[3].value+"")&&H(i,s)},d(o){o&&p(e),o&&p(t),o&&p(n),o&&p(i)}}}function Xe(r){let e,l;return e=new $e({props:{$$slots:{default:[We]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&16777224&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ze(r){let e,l;return e=new y({props:{$$slots:{default:[Xe]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&16777224&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function _e(r){let e,l,t,n;return{c(){e=E("p"),l=D("Get older txts")},l(s){e=T(s,"P",{});var i=C(e);l=N(i,"Get older txts"),i.forEach(p)},m(s,i){g(s,e,i),L(e,l),t||(n=B(e,"click",r[10]),t=!0)},p:me,d(s){s&&p(e),t=!1,n()}}}function ye(r){var v;let e,l=((v=r[21].user)==null?void 0:v.username)+"",t,n,s,i=r[21].value+"",o,f,u;function _(){return r[15](r[21])}function c(){return r[16](r[21])}return{c(){e=E("p"),t=D(l),n=R(),s=E("p"),o=D(i),this.h()},l(b){e=T(b,"P",{class:!0});var m=C(e);t=N(m,l),m.forEach(p),n=S(b),s=T(b,"P",{});var V=C(s);o=N(V,i),V.forEach(p),this.h()},h(){j(e,"class","small pointer svelte-1qevznt")},m(b,m){g(b,e,m),L(e,t),g(b,n,m),g(b,s,m),L(s,o),f||(u=[B(e,"click",_),B(s,"click",c)],f=!0)},p(b,m){var V;r=b,m&2&&l!==(l=((V=r[21].user)==null?void 0:V.username)+"")&&H(t,l),m&2&&i!==(i=r[21].value+"")&&H(o,i)},d(b){b&&p(e),b&&p(n),b&&p(s),f=!1,Pe(u)}}}function Fe(r){let e,l;return e=new y({props:{$$slots:{default:[ye]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&16777218&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function pe(r){let e,l;return e=new Z({props:{noGutter:!0,$$slots:{default:[Fe]},$$scope:{ctx:r}}}),{c(){z(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){P(e,t,n),l=!0},p(t,n){const s={};n&16777218&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ye(r){let e,l,t,n,s,i,o,f,u,_;e=new Z({props:{noGutter:!0,$$slots:{default:[Ue]},$$scope:{ctx:r}}});let c=r[3]&&ce(r),v=r[0]>1&&_e(r),b=r[1],m=[];for(let a=0;a<b.length;a+=1)m[a]=pe(oe(r,b,a));const V=a=>k(m[a],1,1,()=>{m[a]=null});function F(a){r[17](a)}function Y(a){r[18](a)}let J={};return r[5]!==void 0&&(J.value=r[5]),r[6]!==void 0&&(J.ref=r[6]),o=new Me({props:J}),U.push(()=>W(o,"value",F)),U.push(()=>W(o,"ref",Y)),o.$on("keydown",r[8]),{c(){z(e.$$.fragment),l=R(),c&&c.c(),t=R(),v&&v.c(),n=R(),s=E("div");for(let a=0;a<m.length;a+=1)m[a].c();i=R(),z(o.$$.fragment),this.h()},l(a){q(e.$$.fragment,a),l=S(a),c&&c.l(a),t=S(a),v&&v.l(a),n=S(a),s=T(a,"DIV",{class:!0});var $=C(s);for(let I=0;I<m.length;I+=1)m[I].l($);i=S($),q(o.$$.fragment,$),$.forEach(p),this.h()},h(){j(s,"class","con")},m(a,$){P(e,a,$),g(a,l,$),c&&c.m(a,$),g(a,t,$),v&&v.m(a,$),g(a,n,$),g(a,s,$);for(let I=0;I<m.length;I+=1)m[I].m(s,null);L(s,i),P(o,s,null),_=!0},p(a,[$]){const I={};if($&16777244&&(I.$$scope={dirty:$,ctx:a}),e.$set(I),a[3]?c?(c.p(a,$),$&8&&h(c,1)):(c=ce(a),c.c(),h(c,1),c.m(t.parentNode,t)):c&&(O(),k(c,1,1,()=>{c=null}),Q()),a[0]>1?v?v.p(a,$):(v=_e(a),v.c(),v.m(n.parentNode,n)):v&&(v.d(1),v=null),$&130){b=a[1];let w;for(w=0;w<b.length;w+=1){const d=oe(a,b,w);m[w]?(m[w].p(d,$),h(m[w],1)):(m[w]=pe(d),m[w].c(),h(m[w],1),m[w].m(s,i))}for(O(),w=b.length;w<m.length;w+=1)V(w);Q()}const M={};!f&&$&32&&(f=!0,M.value=a[5],X(()=>f=!1)),!u&&$&64&&(u=!0,M.ref=a[6],X(()=>u=!1)),o.$set(M)},i(a){if(!_){h(e.$$.fragment,a),h(c);for(let $=0;$<b.length;$+=1)h(m[$]);h(o.$$.fragment,a),_=!0}},o(a){k(e.$$.fragment,a),k(c),m=m.filter(Boolean);for(let $=0;$<m.length;$+=1)k(m[$]);k(o.$$.fragment,a),_=!1},d(a){G(e,a),a&&p(l),c&&c.d(a),a&&p(t),v&&v.d(a),a&&p(n),a&&p(s),Te(m,a),G(o)}}}function xe(r,e,l){let{title:t,add:n,page:s,pages:i,txt:o,items:f,leaveText:u="Leave txt"}=e;const _=ze();let c,v;qe(()=>{window.scrollTo({left:0,top:document.body.scrollHeight}),v.focus()});const b=d=>{switch(d.key){case"Enter":F()}},m=async()=>{await fe.put(`leave/${o.id}`),Ge.emit("leave",o.id),ie(ee.txts)},V=async()=>{await fe.get(`txts?replies&page=${s-1}`).then(d=>{l(11,s=d.page),l(0,i=d.pages),l(1,f=[d.items,...f])})},F=()=>{!c||(_("send",c),l(5,c=""))},Y=()=>{setTimeout(()=>{window.scrollTo({left:0,top:document.body.scrollHeight})},0)},J=()=>_("titleClick"),a=()=>_("join"),$=d=>ie(`${ee.users}/${d.user.id}`),I=d=>_("itemClick",d);function M(d){c=d,l(5,c)}function w(d){v=d,l(6,v)}return r.$$set=d=>{"title"in d&&l(2,t=d.title),"add"in d&&l(12,n=d.add),"page"in d&&l(11,s=d.page),"pages"in d&&l(0,i=d.pages),"txt"in d&&l(3,o=d.txt),"items"in d&&l(1,f=d.items),"leaveText"in d&&l(4,u=d.leaveText)},r.$$.update=()=>{r.$$.dirty&4096&&Y()},[i,f,t,o,u,c,v,_,b,m,V,s,n,J,a,$,I,M,w]}class ct extends te{constructor(e){super(),le(this,e,xe,Ye,ne,{title:2,add:12,page:11,pages:0,txt:3,items:1,leaveText:4})}}export{ct as T};
